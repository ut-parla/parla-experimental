\hypertarget{classWorkerPool}{}\doxysection{Worker\+Pool$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$ Class Template Reference}
\label{classWorkerPool}\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}


A worker pool is a collection of workers.  




{\ttfamily \#include $<$runtime.\+hpp$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classWorkerPool_a27e5ecb7e4c74c98da7c5ac37c6a07e9}{Worker\+Pool}} ()=default
\item 
\mbox{\hyperlink{classWorkerPool_a46d2e641bf5365f74ee44df35cb2d176}{Worker\+Pool}} (int nworkers)
\item 
void \mbox{\hyperlink{classWorkerPool_accbd67d477b7b878ae07ef057f306f3a}{enqueue\+\_\+worker}} (\mbox{\hyperlink{classInnerWorker}{Inner\+Worker}} $\ast$worker)
\begin{DoxyCompactList}\small\item\em add a worker to the active pool \end{DoxyCompactList}\item 
\mbox{\hyperlink{classInnerWorker}{Inner\+Worker}} $\ast$ \mbox{\hyperlink{classWorkerPool_a32fc0a83d2e24e5df16c2376ef99b56e}{dequeue\+\_\+worker}} ()
\begin{DoxyCompactList}\small\item\em remove a worker from the active pool \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classWorkerPool_a5680e0643399be1414c6e1158207d840}{add\+\_\+worker}} (\mbox{\hyperlink{classInnerWorker}{Inner\+Worker}} $\ast$worker)
\begin{DoxyCompactList}\small\item\em add a worker to the all pool \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classWorkerPool_a2ea04b6bae890acb1f93492938b3a090}{get\+\_\+num\+\_\+available\+\_\+workers}} ()
\begin{DoxyCompactList}\small\item\em get number of available workers \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classWorkerPool_a47b69f03b0e1f328839d7b5a13247f6e}{get\+\_\+num\+\_\+workers}} ()
\begin{DoxyCompactList}\small\item\em get number of total workers \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classWorkerPool_aac07a5bca0f916792c20f58e2b121a7e}{set\+\_\+num\+\_\+workers}} (int nworkers)
\begin{DoxyCompactList}\small\item\em set number of total workers \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classWorkerPool_afd0d338bf8b8d221ca08c769098095c8}{increase\+\_\+num\+\_\+notified\+\_\+workers}} ()
\begin{DoxyCompactList}\small\item\em increase number of notified workers \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classWorkerPool_ab9ca4e7daa41217828be53d64e8d3b11}{decrease\+\_\+num\+\_\+notified\+\_\+workers}} ()
\item 
int \mbox{\hyperlink{classWorkerPool_a01d861ad2e3a0592c92962f063bde224}{get\+\_\+num\+\_\+notified\+\_\+workers}} ()
\item 
void \mbox{\hyperlink{classWorkerPool_a997968d016085dfa9b011409c01be22a}{spawn\+\_\+wait}} ()
\begin{DoxyCompactList}\small\item\em barrier to block additional for spawns so that other waiting workers threads can take the GIL$\ast$/ \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
All\+Workers\+\_\+t \mbox{\hyperlink{classWorkerPool_a6a5de6e802725a3ac685aea8e4a88963}{all\+\_\+workers}}
\begin{DoxyCompactList}\small\item\em Container of all workers. \end{DoxyCompactList}\item 
Active\+Workers\+\_\+t \mbox{\hyperlink{classWorkerPool_a5ce99651db234fd06c6ba69996a1ac73}{active\+\_\+workers}}
\begin{DoxyCompactList}\small\item\em Container of available workers. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classWorkerPool_a8ff5ddfaa9f272ab0d7e7e792dbc24c3}{max\+\_\+workers}}
\item 
std\+::mutex \mbox{\hyperlink{classWorkerPool_ab2c4844492dbc228436c9fec373c3082}{mtx}}
\begin{DoxyCompactList}\small\item\em mutex for blocking additional spawn/await$\ast$/ until workers are notified \end{DoxyCompactList}\item 
std\+::condition\+\_\+variable \mbox{\hyperlink{classWorkerPool_a402056d6d4e68772d6557c5f4bb6a9fa}{cv}}
\begin{DoxyCompactList}\small\item\em condition variable for blocking spawn/await$\ast$/ \end{DoxyCompactList}\item 
std\+::atomic$<$ int $>$ \mbox{\hyperlink{classWorkerPool_a242b64fcf7337be9ceca89b905073520}{notified\+\_\+workers}} \{0\}
\begin{DoxyCompactList}\small\item\em number of notified but not running workers (waiting) \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename All\+Workers\+\_\+t, typename Active\+Workers\+\_\+t$>$\newline
class Worker\+Pool$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$}

A worker pool is a collection of workers. 

For worker creation and managing status. 
\begin{DoxyTemplParams}{Template Parameters}
{\em All\+Workers\+\_\+t} & A container type for storing the list of all workers (should be thread-\/safe) \\
\hline
{\em Active\+Workers\+\_\+t} & A container type for storing the list of active workers (should be thread-\/safe) \\
\hline
\end{DoxyTemplParams}


Definition at line 848 of file runtime.\+hpp.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classWorkerPool_a27e5ecb7e4c74c98da7c5ac37c6a07e9}\label{classWorkerPool_a27e5ecb7e4c74c98da7c5ac37c6a07e9}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!WorkerPool@{WorkerPool}}
\index{WorkerPool@{WorkerPool}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{WorkerPool()}{WorkerPool()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
\mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::\mbox{\hyperlink{classWorkerPool}{Worker\+Pool}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

\mbox{\Hypertarget{classWorkerPool_a46d2e641bf5365f74ee44df35cb2d176}\label{classWorkerPool_a46d2e641bf5365f74ee44df35cb2d176}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!WorkerPool@{WorkerPool}}
\index{WorkerPool@{WorkerPool}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{WorkerPool()}{WorkerPool()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
\mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::\mbox{\hyperlink{classWorkerPool}{Worker\+Pool}} (\begin{DoxyParamCaption}\item[{int}]{nworkers }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 869 of file runtime.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{869 : \mbox{\hyperlink{classWorkerPool_a8ff5ddfaa9f272ab0d7e7e792dbc24c3}{max\_workers}}(nworkers)\{\};}

\end{DoxyCode}


References Worker\+Pool$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::max\+\_\+workers.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classWorkerPool_a5680e0643399be1414c6e1158207d840}\label{classWorkerPool_a5680e0643399be1414c6e1158207d840}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!add\_worker@{add\_worker}}
\index{add\_worker@{add\_worker}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{add\_worker()}{add\_worker()}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
void \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::add\+\_\+worker (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classInnerWorker}{Inner\+Worker}} $\ast$}]{worker }\end{DoxyParamCaption})}



add a worker to the all pool 



Definition at line 80 of file scheduler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{81                          \{}
\DoxyCodeLine{82   \textcolor{comment}{// std::cout << "{}Adding worker: "{} << worker-\/>thread\_idx << std::endl;}}
\DoxyCodeLine{83   this-\/>\mbox{\hyperlink{classWorkerPool_a6a5de6e802725a3ac685aea8e4a88963}{all\_workers}}.push\_back(worker);}
\DoxyCodeLine{84   assert(this-\/>\mbox{\hyperlink{classWorkerPool_a6a5de6e802725a3ac685aea8e4a88963}{all\_workers}}.size() <= this-\/>max\_workers);}
\DoxyCodeLine{85 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classWorkerPool_ab9ca4e7daa41217828be53d64e8d3b11}\label{classWorkerPool_ab9ca4e7daa41217828be53d64e8d3b11}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!decrease\_num\_notified\_workers@{decrease\_num\_notified\_workers}}
\index{decrease\_num\_notified\_workers@{decrease\_num\_notified\_workers}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{decrease\_num\_notified\_workers()}{decrease\_num\_notified\_workers()}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
int \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::decrease\+\_\+num\+\_\+notified\+\_\+workers}



Definition at line 111 of file scheduler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{111                                                                              \{}
\DoxyCodeLine{112   \textcolor{keywordtype}{int} before = this-\/>\mbox{\hyperlink{classWorkerPool_a242b64fcf7337be9ceca89b905073520}{notified\_workers}}.fetch\_sub(1);}
\DoxyCodeLine{113   \textcolor{keywordflow}{return} before;}
\DoxyCodeLine{114 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classWorkerPool_a32fc0a83d2e24e5df16c2376ef99b56e}\label{classWorkerPool_a32fc0a83d2e24e5df16c2376ef99b56e}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!dequeue\_worker@{dequeue\_worker}}
\index{dequeue\_worker@{dequeue\_worker}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{dequeue\_worker()}{dequeue\_worker()}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
\mbox{\hyperlink{classInnerWorker}{Inner\+Worker}} $\ast$ \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::dequeue\+\_\+worker}



remove a worker from the active pool 



Definition at line 73 of file scheduler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{73                                                                        \{}
\DoxyCodeLine{74   \mbox{\hyperlink{classInnerWorker}{InnerWorker}} *\mbox{\hyperlink{namespaceparla_1_1cython_1_1core_a8368535304ebfdbd53c01c50f851dbc6}{worker}} = this-\/>\mbox{\hyperlink{classWorkerPool_a5ce99651db234fd06c6ba69996a1ac73}{active\_workers}}.back\_and\_pop();}
\DoxyCodeLine{75   \textcolor{comment}{// std::cout << "{}Dequeued Worker ID: "{} << worker-\/>thread\_idx << std::endl;}}
\DoxyCodeLine{76   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceparla_1_1cython_1_1core_a8368535304ebfdbd53c01c50f851dbc6}{worker}};}
\DoxyCodeLine{77 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classWorkerPool_accbd67d477b7b878ae07ef057f306f3a}\label{classWorkerPool_accbd67d477b7b878ae07ef057f306f3a}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!enqueue\_worker@{enqueue\_worker}}
\index{enqueue\_worker@{enqueue\_worker}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{enqueue\_worker()}{enqueue\_worker()}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
void \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::enqueue\+\_\+worker (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classInnerWorker}{Inner\+Worker}} $\ast$}]{worker }\end{DoxyParamCaption})}



add a worker to the active pool 



Definition at line 64 of file scheduler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{65                          \{}
\DoxyCodeLine{66   this-\/>\mbox{\hyperlink{classWorkerPool_a5ce99651db234fd06c6ba69996a1ac73}{active\_workers}}.push\_back(worker);}
\DoxyCodeLine{67   \textcolor{comment}{// std::cout << "{}Enqueued Worker ID: "{} << worker-\/>thread\_idx << std::endl;}}
\DoxyCodeLine{68   \textcolor{comment}{// std::cout << "{}Active workers: "{} << this-\/>active\_workers.atomic\_size()}}
\DoxyCodeLine{69   \textcolor{comment}{//           << std::endl;}}
\DoxyCodeLine{70 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classWorkerPool_a2ea04b6bae890acb1f93492938b3a090}\label{classWorkerPool_a2ea04b6bae890acb1f93492938b3a090}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!get\_num\_available\_workers@{get\_num\_available\_workers}}
\index{get\_num\_available\_workers@{get\_num\_available\_workers}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{get\_num\_available\_workers()}{get\_num\_available\_workers()}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
int \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::get\+\_\+num\+\_\+available\+\_\+workers}



get number of available workers 



Definition at line 88 of file scheduler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{88                                                                          \{}
\DoxyCodeLine{89   \textcolor{keyword}{auto} num\_workers = this-\/>\mbox{\hyperlink{classWorkerPool_a5ce99651db234fd06c6ba69996a1ac73}{active\_workers}}.atomic\_size();}
\DoxyCodeLine{90   \textcolor{comment}{// std::cout << "{}Available workers: "{} << num\_workers << std::endl;}}
\DoxyCodeLine{91   \textcolor{keywordflow}{return} num\_workers;}
\DoxyCodeLine{92 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classWorkerPool_a01d861ad2e3a0592c92962f063bde224}\label{classWorkerPool_a01d861ad2e3a0592c92962f063bde224}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!get\_num\_notified\_workers@{get\_num\_notified\_workers}}
\index{get\_num\_notified\_workers@{get\_num\_notified\_workers}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{get\_num\_notified\_workers()}{get\_num\_notified\_workers()}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
int \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::get\+\_\+num\+\_\+notified\+\_\+workers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 896 of file runtime.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{896                                         \{}
\DoxyCodeLine{897     \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classWorkerPool_a242b64fcf7337be9ceca89b905073520}{notified\_workers}}.load();}
\DoxyCodeLine{898   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classWorkerPool_a47b69f03b0e1f328839d7b5a13247f6e}\label{classWorkerPool_a47b69f03b0e1f328839d7b5a13247f6e}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!get\_num\_workers@{get\_num\_workers}}
\index{get\_num\_workers@{get\_num\_workers}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{get\_num\_workers()}{get\_num\_workers()}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
int \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::get\+\_\+num\+\_\+workers}



get number of total workers 



Definition at line 95 of file scheduler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{95                                                                \{}
\DoxyCodeLine{96   \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classWorkerPool_a8ff5ddfaa9f272ab0d7e7e792dbc24c3}{max\_workers}};}
\DoxyCodeLine{97 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classWorkerPool_afd0d338bf8b8d221ca08c769098095c8}\label{classWorkerPool_afd0d338bf8b8d221ca08c769098095c8}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!increase\_num\_notified\_workers@{increase\_num\_notified\_workers}}
\index{increase\_num\_notified\_workers@{increase\_num\_notified\_workers}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{increase\_num\_notified\_workers()}{increase\_num\_notified\_workers()}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
int \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::increase\+\_\+num\+\_\+notified\+\_\+workers}



increase number of notified workers 



Definition at line 105 of file scheduler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{105                                                                              \{}
\DoxyCodeLine{106   \textcolor{keywordtype}{int} before = this-\/>\mbox{\hyperlink{classWorkerPool_a242b64fcf7337be9ceca89b905073520}{notified\_workers}}.fetch\_add(1);}
\DoxyCodeLine{107   \textcolor{keywordflow}{return} before;}
\DoxyCodeLine{108 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classWorkerPool_aac07a5bca0f916792c20f58e2b121a7e}\label{classWorkerPool_aac07a5bca0f916792c20f58e2b121a7e}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!set\_num\_workers@{set\_num\_workers}}
\index{set\_num\_workers@{set\_num\_workers}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{set\_num\_workers()}{set\_num\_workers()}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
void \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::set\+\_\+num\+\_\+workers (\begin{DoxyParamCaption}\item[{int}]{nworkers }\end{DoxyParamCaption})}



set number of total workers 



Definition at line 100 of file scheduler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{100                                                                             \{}
\DoxyCodeLine{101   this-\/>\mbox{\hyperlink{classWorkerPool_a8ff5ddfaa9f272ab0d7e7e792dbc24c3}{max\_workers}} = nworkers;}
\DoxyCodeLine{102 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classWorkerPool_a997968d016085dfa9b011409c01be22a}\label{classWorkerPool_a997968d016085dfa9b011409c01be22a}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!spawn\_wait@{spawn\_wait}}
\index{spawn\_wait@{spawn\_wait}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{spawn\_wait()}{spawn\_wait()}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
void \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::spawn\+\_\+wait}



barrier to block additional for spawns so that other waiting workers threads can take the GIL$\ast$/ 



Definition at line 117 of file scheduler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{117                                                            \{}
\DoxyCodeLine{118 }
\DoxyCodeLine{119   std::this\_thread::sleep\_for(std::chrono::nanoseconds(1000));}
\DoxyCodeLine{120 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classWorkerPool_a5ce99651db234fd06c6ba69996a1ac73}\label{classWorkerPool_a5ce99651db234fd06c6ba69996a1ac73}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!active\_workers@{active\_workers}}
\index{active\_workers@{active\_workers}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{active\_workers}{active\_workers}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
Active\+Workers\+\_\+t \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::active\+\_\+workers}



Container of available workers. 



Definition at line 855 of file runtime.\+hpp.

\mbox{\Hypertarget{classWorkerPool_a6a5de6e802725a3ac685aea8e4a88963}\label{classWorkerPool_a6a5de6e802725a3ac685aea8e4a88963}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!all\_workers@{all\_workers}}
\index{all\_workers@{all\_workers}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{all\_workers}{all\_workers}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
All\+Workers\+\_\+t \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::all\+\_\+workers}



Container of all workers. 



Definition at line 852 of file runtime.\+hpp.

\mbox{\Hypertarget{classWorkerPool_a402056d6d4e68772d6557c5f4bb6a9fa}\label{classWorkerPool_a402056d6d4e68772d6557c5f4bb6a9fa}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!cv@{cv}}
\index{cv@{cv}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{cv}{cv}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
std\+::condition\+\_\+variable \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::cv}



condition variable for blocking spawn/await$\ast$/ 



Definition at line 863 of file runtime.\+hpp.

\mbox{\Hypertarget{classWorkerPool_a8ff5ddfaa9f272ab0d7e7e792dbc24c3}\label{classWorkerPool_a8ff5ddfaa9f272ab0d7e7e792dbc24c3}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!max\_workers@{max\_workers}}
\index{max\_workers@{max\_workers}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{max\_workers}{max\_workers}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
int \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::max\+\_\+workers}



Definition at line 857 of file runtime.\+hpp.



Referenced by Worker\+Pool$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::\+Worker\+Pool().

\mbox{\Hypertarget{classWorkerPool_ab2c4844492dbc228436c9fec373c3082}\label{classWorkerPool_ab2c4844492dbc228436c9fec373c3082}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!mtx@{mtx}}
\index{mtx@{mtx}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{mtx}{mtx}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
std\+::mutex \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::mtx}



mutex for blocking additional spawn/await$\ast$/ until workers are notified 



Definition at line 860 of file runtime.\+hpp.

\mbox{\Hypertarget{classWorkerPool_a242b64fcf7337be9ceca89b905073520}\label{classWorkerPool_a242b64fcf7337be9ceca89b905073520}} 
\index{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}!notified\_workers@{notified\_workers}}
\index{notified\_workers@{notified\_workers}!WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$@{WorkerPool$<$ AllWorkers\_t, ActiveWorkers\_t $>$}}
\doxysubsubsection{\texorpdfstring{notified\_workers}{notified\_workers}}
{\footnotesize\ttfamily template$<$typename All\+Workers\+\_\+t , typename Active\+Workers\+\_\+t $>$ \\
std\+::atomic$<$int$>$ \mbox{\hyperlink{classWorkerPool}{Worker\+Pool}}$<$ All\+Workers\+\_\+t, Active\+Workers\+\_\+t $>$\+::notified\+\_\+workers \{0\}}



number of notified but not running workers (waiting) 



Definition at line 866 of file runtime.\+hpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/c/backend/include/\mbox{\hyperlink{runtime_8hpp}{runtime.\+hpp}}\item 
src/c/backend/\mbox{\hyperlink{scheduler_8cpp}{scheduler.\+cpp}}\end{DoxyCompactItemize}
