\hypertarget{classPhaseManager}{}\doxysection{Phase\+Manager$<$ category $>$ Class Template Reference}
\label{classPhaseManager}\index{PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}}


Manages a group of Device\+Queues.  




{\ttfamily \#include $<$device\+\_\+queues.\+hpp$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classPhaseManager_a50dc4b50e8c46a8ad59e921c9c20c7b6}{Phase\+Manager}} (\mbox{\hyperlink{classDeviceManager}{Device\+Manager}} $\ast$device\+\_\+manager)
\begin{DoxyCompactList}\small\item\em Initializes a \mbox{\hyperlink{classDeviceQueue}{Device\+Queue}} for each device in the \mbox{\hyperlink{classDeviceManager}{Device\+Manager}}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classPhaseManager_a1338a33a9ba3082abc2324f137589f52}{$\sim$\+Phase\+Manager}} ()
\item 
void \mbox{\hyperlink{classPhaseManager_a99a7130af7e831e0cf162f869ead85b0}{enqueue}} (\mbox{\hyperlink{classInnerTask}{Inner\+Task}} $\ast$task)
\begin{DoxyCompactList}\small\item\em Enqueues a task to the appropriate \mbox{\hyperlink{classDeviceQueue}{Device\+Queue(s)}}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classInnerTask}{Inner\+Task}} $\ast$ \mbox{\hyperlink{classPhaseManager_a1bd00c28f5e5b9963078dbb867f193b9}{front}} ()
\item 
\mbox{\hyperlink{classInnerTask}{Inner\+Task}} $\ast$ \mbox{\hyperlink{classPhaseManager_ac2f91ba434116731aa54b43aa5cb5314}{pop}} ()
\begin{DoxyCompactList}\small\item\em Removed the previous head task from the queue. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classPhaseManager_adff06404660b5978184c1992df07758d}{size}} ()
\item 
size\+\_\+t \mbox{\hyperlink{classPhaseManager_a5cc8ec27734f5f8b3fde55e3b1afcfd1}{get\+\_\+num\+\_\+devices}} ()
\item 
size\+\_\+t \mbox{\hyperlink{classPhaseManager_a4059d252ee6d10e708045ff34addc0b8}{get\+\_\+num\+\_\+device\+\_\+queues}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ \mbox{\hyperlink{classDeviceQueue}{Device\+Queue}}$<$ category $>$ $\ast$ $>$ \mbox{\hyperlink{classPhaseManager_a1d89b34207c0997710fae471ab9d8e4c}{device\+\_\+queues}}
\item 
int \mbox{\hyperlink{classPhaseManager_a55b30369f205bd42503e55a11c717ebe}{last\+\_\+device\+\_\+idx}} \{0\}
\item 
int \mbox{\hyperlink{classPhaseManager_a4c34dd4f1e378a105ff58988e8ee2b3f}{ndevices}} \{0\}
\item 
std\+::atomic$<$ int $>$ \mbox{\hyperlink{classPhaseManager_ad30001034ff48761af1b794a166f507d}{num\+\_\+tasks}} \{0\}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$Resource\+Category category$>$\newline
class Phase\+Manager$<$ category $>$}

Manages a group of Device\+Queues. 

Supports both single and multi-\/device tasks. Multi-\/device tasks are shared between Device\+Queues.


\begin{DoxyTemplParams}{Template Parameters}
{\em category} & the resource category (persistent/non-\/persistent) that this manager supervises \\
\hline
\end{DoxyTemplParams}


Definition at line 168 of file device\+\_\+queues.\+hpp.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classPhaseManager_a50dc4b50e8c46a8ad59e921c9c20c7b6}\label{classPhaseManager_a50dc4b50e8c46a8ad59e921c9c20c7b6}} 
\index{PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}!PhaseManager@{PhaseManager}}
\index{PhaseManager@{PhaseManager}!PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}}
\doxysubsubsection{\texorpdfstring{PhaseManager()}{PhaseManager()}}
{\footnotesize\ttfamily template$<$Resource\+Category category$>$ \\
\mbox{\hyperlink{classPhaseManager}{Phase\+Manager}}$<$ category $>$\+::\mbox{\hyperlink{classPhaseManager}{Phase\+Manager}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classDeviceManager}{Device\+Manager}} $\ast$}]{device\+\_\+manager }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Initializes a \mbox{\hyperlink{classDeviceQueue}{Device\+Queue}} for each device in the \mbox{\hyperlink{classDeviceManager}{Device\+Manager}}. 


\begin{DoxyParams}{Parameters}
{\em device\+\_\+manager} & the \mbox{\hyperlink{classDeviceManager}{Device\+Manager}} to initialize from \\
\hline
\end{DoxyParams}


Definition at line 174 of file device\+\_\+queues.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{174                                               \{}
\DoxyCodeLine{175     \textcolor{comment}{// std::cout << "{}Initializing PhaseManager"{} << std::endl;}}
\DoxyCodeLine{176 }
\DoxyCodeLine{177     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{device_8hpp_ad258d4c51629346fceac4679b3209ad9}{DeviceType}} dev\_type : \mbox{\hyperlink{device_8hpp_a0d1543ce78494ee034dc5f68c714bcbd}{architecture\_types}}) \{}
\DoxyCodeLine{178       this-\/>\mbox{\hyperlink{classPhaseManager_a4c34dd4f1e378a105ff58988e8ee2b3f}{ndevices}} += device\_manager-\/>\mbox{\hyperlink{classDeviceManager_ad3dba27b05b965eba693d8fecd89f9c7}{get\_num\_devices}}(dev\_type);}
\DoxyCodeLine{179 }
\DoxyCodeLine{180       \textcolor{keywordflow}{for} (\mbox{\hyperlink{classDevice}{Device}} *device : device\_manager-\/>\mbox{\hyperlink{classDeviceManager_abc8026db140b57f337552054959dd1f5}{get\_devices}}(dev\_type)) \{}
\DoxyCodeLine{181         this-\/>\mbox{\hyperlink{classPhaseManager_a1d89b34207c0997710fae471ab9d8e4c}{device\_queues}}.emplace\_back(\textcolor{keyword}{new} \mbox{\hyperlink{classDeviceQueue}{DeviceQueue<category>}}(device));}
\DoxyCodeLine{182         \textcolor{comment}{// std::cout << "{}Initialized DeviceQueue for Device: "{}}}
\DoxyCodeLine{183         \textcolor{comment}{//           << device-\/>get\_name() << std::endl;}}
\DoxyCodeLine{184       \}}
\DoxyCodeLine{185 }
\DoxyCodeLine{186       this-\/>\mbox{\hyperlink{classPhaseManager_a55b30369f205bd42503e55a11c717ebe}{last\_device\_idx}} = 0;}
\DoxyCodeLine{187     \}}
\DoxyCodeLine{188 }
\DoxyCodeLine{189     \textcolor{comment}{// std::cout << "{}Initialized PhaseManager with "{} << this-\/>ndevices}}
\DoxyCodeLine{190     \textcolor{comment}{//           << "{} devices"{} << std::endl;}}
\DoxyCodeLine{191     \textcolor{comment}{// std::cout << "{}Initialized PhaseManager with "{} <<}}
\DoxyCodeLine{192     \textcolor{comment}{// this-\/>device\_queues.size()}}
\DoxyCodeLine{193     \textcolor{comment}{//           << "{} queues"{} << std::endl;}}
\DoxyCodeLine{194   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classPhaseManager_a1338a33a9ba3082abc2324f137589f52}\label{classPhaseManager_a1338a33a9ba3082abc2324f137589f52}} 
\index{PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}!````~PhaseManager@{$\sim$PhaseManager}}
\index{````~PhaseManager@{$\sim$PhaseManager}!PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}}
\doxysubsubsection{\texorpdfstring{$\sim$PhaseManager()}{~PhaseManager()}}
{\footnotesize\ttfamily template$<$Resource\+Category category$>$ \\
\mbox{\hyperlink{classPhaseManager}{Phase\+Manager}}$<$ category $>$\+::$\sim$\mbox{\hyperlink{classPhaseManager}{Phase\+Manager}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 196 of file device\+\_\+queues.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{196                   \{}
\DoxyCodeLine{197     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&queue : this-\/>\mbox{\hyperlink{classPhaseManager_a1d89b34207c0997710fae471ab9d8e4c}{device\_queues}}) \{}
\DoxyCodeLine{198       \textcolor{keyword}{delete} queue;}
\DoxyCodeLine{199     \}}
\DoxyCodeLine{200   \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classPhaseManager_a99a7130af7e831e0cf162f869ead85b0}\label{classPhaseManager_a99a7130af7e831e0cf162f869ead85b0}} 
\index{PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}!enqueue@{enqueue}}
\index{enqueue@{enqueue}!PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}}
\doxysubsubsection{\texorpdfstring{enqueue()}{enqueue()}}
{\footnotesize\ttfamily template$<$Resource\+Category category$>$ \\
void \mbox{\hyperlink{classPhaseManager}{Phase\+Manager}}$<$ category $>$\+::enqueue (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classInnerTask}{Inner\+Task}} $\ast$}]{task }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enqueues a task to the appropriate \mbox{\hyperlink{classDeviceQueue}{Device\+Queue(s)}}. 


\begin{DoxyParams}{Parameters}
{\em task} & the task to enqueue. May be single or multi-\/device. \\
\hline
\end{DoxyParams}


Definition at line 206 of file device\+\_\+queues.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{206                                 \{}
\DoxyCodeLine{207     \textcolor{comment}{// std::cout << "{}pointer: "{} << reinterpret\_cast<void *>(this) << std::endl;}}
\DoxyCodeLine{208     \textcolor{comment}{// std::cout << "{}ndevices: "{} << this-\/>ndevices << std::endl;}}
\DoxyCodeLine{209     \textcolor{comment}{// std::cout << "{}nqueues: "{} << this-\/>device\_queues.size() << std::endl;}}
\DoxyCodeLine{210     \textcolor{comment}{// std::cout << "{}Enqueuing task to phase manager: "{} << task-\/>get\_name()}}
\DoxyCodeLine{211     \textcolor{comment}{//           << std::endl;}}
\DoxyCodeLine{212     \mbox{\hyperlink{namespaceparla_1_1cython_1_1core_a80c42ae6cf7c7174352631aa0d84cbe0}{task}}-\/>set\_num\_instances<\mbox{\hyperlink{namespaceparla_1_1cython_1_1core_a96040cd272a435ca8983e3f3ad50066b}{category}}>();}
\DoxyCodeLine{213     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} device : \mbox{\hyperlink{namespaceparla_1_1cython_1_1core_a80c42ae6cf7c7174352631aa0d84cbe0}{task}}-\/>assigned\_devices) \{}
\DoxyCodeLine{214       this-\/>\mbox{\hyperlink{classPhaseManager_a1d89b34207c0997710fae471ab9d8e4c}{device\_queues}}[device-\/>get\_global\_id()]-\/>enqueue(\mbox{\hyperlink{namespaceparla_1_1cython_1_1core_a80c42ae6cf7c7174352631aa0d84cbe0}{task}});}
\DoxyCodeLine{215     \}}
\DoxyCodeLine{216     this-\/>\mbox{\hyperlink{classPhaseManager_ad30001034ff48761af1b794a166f507d}{num\_tasks}}++;}
\DoxyCodeLine{217   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classPhaseManager_a1bd00c28f5e5b9963078dbb867f193b9}\label{classPhaseManager_a1bd00c28f5e5b9963078dbb867f193b9}} 
\index{PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}!front@{front}}
\index{front@{front}!PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}}
\doxysubsubsection{\texorpdfstring{front()}{front()}}
{\footnotesize\ttfamily template$<$Resource\+Category category$>$ \\
\mbox{\hyperlink{classInnerTask}{Inner\+Task}}$\ast$ \mbox{\hyperlink{classPhaseManager}{Phase\+Manager}}$<$ category $>$\+::front (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\begin{DoxyReturn}{Returns}
the next task that can be dequeued on any device. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classDeviceQueue_a2556a5d5368adda5af85130d6f4b0e5b}{Device\+Queue\+::front}}
\end{DoxySeeAlso}
Loops over all Device\+Queues in round-\/robin order to find the next dequeable task. The search is restarted from the next \mbox{\hyperlink{classDeviceQueue}{Device\+Queue}} after the last successful dequeue. A success increases the last\+\_\+device\+\_\+idx by 1.

If there are no tasks remaining, returns nullptr. Will infinitely loop if there are tasks remaining but none can be dequeued on any device. (invalid state).

Note that each call to \mbox{\hyperlink{classDeviceQueue_a2556a5d5368adda5af85130d6f4b0e5b}{Device\+Queue\+::front}} pushes the HEAD task to a waiting queue if it is a multi-\/device task that hasn\textquotesingle{}t reached HEAD on all instances. This modifies the internal state of the \mbox{\hyperlink{classDeviceQueue}{Device\+Queue}}. 

Definition at line 235 of file device\+\_\+queues.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{235                      \{}
\DoxyCodeLine{236     \textcolor{comment}{// TODO(wlr): Hochan, can you check this?}}
\DoxyCodeLine{237     \textcolor{comment}{// I'm not sure if this is the right way to loop over dequeable tasks}}
\DoxyCodeLine{238     \textcolor{comment}{// Should we drain each device first, or try each device in}}
\DoxyCodeLine{239     \textcolor{comment}{// turn?}}
\DoxyCodeLine{240 }
\DoxyCodeLine{241     \textcolor{comment}{// std::cout << "{}PhaseManager::front"{} << std::endl;}}
\DoxyCodeLine{242 }
\DoxyCodeLine{243     \textcolor{keywordtype}{int} start\_idx = \mbox{\hyperlink{classPhaseManager_a55b30369f205bd42503e55a11c717ebe}{last\_device\_idx}};}
\DoxyCodeLine{244     \textcolor{keywordtype}{int} end\_idx = start\_idx + \mbox{\hyperlink{classPhaseManager_a4c34dd4f1e378a105ff58988e8ee2b3f}{ndevices}};}
\DoxyCodeLine{245     \textcolor{keywordtype}{int} current\_idx = start\_idx;}
\DoxyCodeLine{246 }
\DoxyCodeLine{247     \textcolor{keywordtype}{bool} has\_task = this-\/>\mbox{\hyperlink{classPhaseManager_adff06404660b5978184c1992df07758d}{size}}() > 0;}
\DoxyCodeLine{248     \textcolor{comment}{// std::cout << "{}Size of PhaseManager: "{} << this-\/>size() << std::endl;}}
\DoxyCodeLine{249     \textcolor{keywordflow}{while} (has\_task) \{}
\DoxyCodeLine{250 }
\DoxyCodeLine{251       \textcolor{comment}{// std::cout << "{}Size of PhaseManager: "{} << this-\/>size() << std::endl;}}
\DoxyCodeLine{252 }
\DoxyCodeLine{253       \textcolor{comment}{// Loop over all devices starting from after last success location}}
\DoxyCodeLine{254       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceparla_1_1cython_1_1tasks_a17820f0441e4e8e4a8af4a5c50bae09d}{i}} = start\_idx; \mbox{\hyperlink{namespaceparla_1_1cython_1_1tasks_a17820f0441e4e8e4a8af4a5c50bae09d}{i}} < end\_idx; ++\mbox{\hyperlink{namespaceparla_1_1cython_1_1tasks_a17820f0441e4e8e4a8af4a5c50bae09d}{i}}) \{}
\DoxyCodeLine{255         current\_idx = \mbox{\hyperlink{namespaceparla_1_1cython_1_1tasks_a17820f0441e4e8e4a8af4a5c50bae09d}{i}} \% \mbox{\hyperlink{classPhaseManager_a4c34dd4f1e378a105ff58988e8ee2b3f}{ndevices}};}
\DoxyCodeLine{256 }
\DoxyCodeLine{257         \textcolor{comment}{// Try to get a non-\/waiting task}}
\DoxyCodeLine{258         \textcolor{comment}{// std::cout << "{}Trying DeviceQueue "{} << current\_idx << "{} Device: "{}}}
\DoxyCodeLine{259         \textcolor{comment}{//          <<}}
\DoxyCodeLine{260         \textcolor{comment}{//          this-\/>device\_queues[current\_idx]-\/>get\_device()-\/>get\_name()}}
\DoxyCodeLine{261         \textcolor{comment}{//          << std::endl;}}
\DoxyCodeLine{262 }
\DoxyCodeLine{263         \mbox{\hyperlink{classInnerTask}{InnerTask}} *\mbox{\hyperlink{namespaceparla_1_1cython_1_1core_a80c42ae6cf7c7174352631aa0d84cbe0}{task}} = this-\/>\mbox{\hyperlink{classPhaseManager_a1d89b34207c0997710fae471ab9d8e4c}{device\_queues}}[current\_idx]-\/>front();}
\DoxyCodeLine{264         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespaceparla_1_1cython_1_1core_a80c42ae6cf7c7174352631aa0d84cbe0}{task}} != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{265           \textcolor{comment}{// std::cout << "{}Not null."{} << std::endl;}}
\DoxyCodeLine{266           \textcolor{comment}{// std::cout << "{}Found task: "{} << task-\/>get\_name() << std::endl;}}
\DoxyCodeLine{267           this-\/>\mbox{\hyperlink{classPhaseManager_a55b30369f205bd42503e55a11c717ebe}{last\_device\_idx}} = ++current\_idx;}
\DoxyCodeLine{268           \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceparla_1_1cython_1_1core_a80c42ae6cf7c7174352631aa0d84cbe0}{task}};}
\DoxyCodeLine{269         \}}
\DoxyCodeLine{270       \}}
\DoxyCodeLine{271 }
\DoxyCodeLine{272       has\_task = this-\/>\mbox{\hyperlink{classPhaseManager_adff06404660b5978184c1992df07758d}{size}}() > 0;}
\DoxyCodeLine{273     \}}
\DoxyCodeLine{274 }
\DoxyCodeLine{275     \textcolor{comment}{// If we get here, there are no tasks that can be dequeued}}
\DoxyCodeLine{276     \textcolor{comment}{// This should only happen if called on an empty phase}}
\DoxyCodeLine{277     \textcolor{comment}{// std::cout << "{}No tasks found"{} << std::endl;}}
\DoxyCodeLine{278     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{279   \}}

\end{DoxyCode}


References Phase\+Manager$<$ category $>$\+::last\+\_\+device\+\_\+idx, and Phase\+Manager$<$ category $>$\+::ndevices.

\mbox{\Hypertarget{classPhaseManager_a4059d252ee6d10e708045ff34addc0b8}\label{classPhaseManager_a4059d252ee6d10e708045ff34addc0b8}} 
\index{PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}!get\_num\_device\_queues@{get\_num\_device\_queues}}
\index{get\_num\_device\_queues@{get\_num\_device\_queues}!PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}}
\doxysubsubsection{\texorpdfstring{get\_num\_device\_queues()}{get\_num\_device\_queues()}}
{\footnotesize\ttfamily template$<$Resource\+Category category$>$ \\
size\+\_\+t \mbox{\hyperlink{classPhaseManager}{Phase\+Manager}}$<$ category $>$\+::get\+\_\+num\+\_\+device\+\_\+queues (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 298 of file device\+\_\+queues.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{298 \{ \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classPhaseManager_a1d89b34207c0997710fae471ab9d8e4c}{device\_queues}}.size(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{classPhaseManager_a5cc8ec27734f5f8b3fde55e3b1afcfd1}\label{classPhaseManager_a5cc8ec27734f5f8b3fde55e3b1afcfd1}} 
\index{PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}!get\_num\_devices@{get\_num\_devices}}
\index{get\_num\_devices@{get\_num\_devices}!PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}}
\doxysubsubsection{\texorpdfstring{get\_num\_devices()}{get\_num\_devices()}}
{\footnotesize\ttfamily template$<$Resource\+Category category$>$ \\
size\+\_\+t \mbox{\hyperlink{classPhaseManager}{Phase\+Manager}}$<$ category $>$\+::get\+\_\+num\+\_\+devices (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 297 of file device\+\_\+queues.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{297 \{ \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classPhaseManager_a4c34dd4f1e378a105ff58988e8ee2b3f}{ndevices}}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{classPhaseManager_ac2f91ba434116731aa54b43aa5cb5314}\label{classPhaseManager_ac2f91ba434116731aa54b43aa5cb5314}} 
\index{PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}!pop@{pop}}
\index{pop@{pop}!PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}}
\doxysubsubsection{\texorpdfstring{pop()}{pop()}}
{\footnotesize\ttfamily template$<$Resource\+Category category$>$ \\
\mbox{\hyperlink{classInnerTask}{Inner\+Task}}$\ast$ \mbox{\hyperlink{classPhaseManager}{Phase\+Manager}}$<$ category $>$\+::pop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Removed the previous head task from the queue. 

\begin{DoxyReturn}{Returns}
the removed task 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classDeviceQueue_a8e0fe6eae95fceac402b404db3659edc}{Device\+Queue\+::pop}} 
\end{DoxySeeAlso}


Definition at line 286 of file device\+\_\+queues.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{286                    \{}
\DoxyCodeLine{287     \textcolor{comment}{// std::cout << "{}PhaseManager::pop"{} << std::endl;}}
\DoxyCodeLine{288     \textcolor{keywordtype}{int} idx = (this-\/>\mbox{\hyperlink{classPhaseManager_a55b30369f205bd42503e55a11c717ebe}{last\_device\_idx}} -\/ 1) \% this-\/>\mbox{\hyperlink{classPhaseManager_a4c34dd4f1e378a105ff58988e8ee2b3f}{ndevices}};}
\DoxyCodeLine{289     \textcolor{comment}{// std::cout << "{}Popping from DeviceQueue "{} << idx << std::endl;}}
\DoxyCodeLine{290     \mbox{\hyperlink{classInnerTask}{InnerTask}} *\mbox{\hyperlink{namespaceparla_1_1cython_1_1core_a80c42ae6cf7c7174352631aa0d84cbe0}{task}} = this-\/>\mbox{\hyperlink{classPhaseManager_a1d89b34207c0997710fae471ab9d8e4c}{device\_queues}}[idx]-\/>pop();}
\DoxyCodeLine{291     \textcolor{comment}{// std::cout << "{}Popped task: "{} << task-\/>get\_name() << std::endl;}}
\DoxyCodeLine{292     this-\/>\mbox{\hyperlink{classPhaseManager_ad30001034ff48761af1b794a166f507d}{num\_tasks}}-\/-\/;}
\DoxyCodeLine{293     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceparla_1_1cython_1_1core_a80c42ae6cf7c7174352631aa0d84cbe0}{task}};}
\DoxyCodeLine{294   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classPhaseManager_adff06404660b5978184c1992df07758d}\label{classPhaseManager_adff06404660b5978184c1992df07758d}} 
\index{PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}!size@{size}}
\index{size@{size}!PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily template$<$Resource\+Category category$>$ \\
size\+\_\+t \mbox{\hyperlink{classPhaseManager}{Phase\+Manager}}$<$ category $>$\+::size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 296 of file device\+\_\+queues.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{296 \{ \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classPhaseManager_ad30001034ff48761af1b794a166f507d}{num\_tasks}}.load(); \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classPhaseManager_a1d89b34207c0997710fae471ab9d8e4c}\label{classPhaseManager_a1d89b34207c0997710fae471ab9d8e4c}} 
\index{PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}!device\_queues@{device\_queues}}
\index{device\_queues@{device\_queues}!PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}}
\doxysubsubsection{\texorpdfstring{device\_queues}{device\_queues}}
{\footnotesize\ttfamily template$<$Resource\+Category category$>$ \\
std\+::vector$<$\mbox{\hyperlink{classDeviceQueue}{Device\+Queue}}$<$category$>$ $\ast$$>$ \mbox{\hyperlink{classPhaseManager}{Phase\+Manager}}$<$ category $>$\+::device\+\_\+queues\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 301 of file device\+\_\+queues.\+hpp.

\mbox{\Hypertarget{classPhaseManager_a55b30369f205bd42503e55a11c717ebe}\label{classPhaseManager_a55b30369f205bd42503e55a11c717ebe}} 
\index{PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}!last\_device\_idx@{last\_device\_idx}}
\index{last\_device\_idx@{last\_device\_idx}!PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}}
\doxysubsubsection{\texorpdfstring{last\_device\_idx}{last\_device\_idx}}
{\footnotesize\ttfamily template$<$Resource\+Category category$>$ \\
int \mbox{\hyperlink{classPhaseManager}{Phase\+Manager}}$<$ category $>$\+::last\+\_\+device\+\_\+idx \{0\}\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 303 of file device\+\_\+queues.\+hpp.



Referenced by Phase\+Manager$<$ category $>$\+::front().

\mbox{\Hypertarget{classPhaseManager_a4c34dd4f1e378a105ff58988e8ee2b3f}\label{classPhaseManager_a4c34dd4f1e378a105ff58988e8ee2b3f}} 
\index{PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}!ndevices@{ndevices}}
\index{ndevices@{ndevices}!PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}}
\doxysubsubsection{\texorpdfstring{ndevices}{ndevices}}
{\footnotesize\ttfamily template$<$Resource\+Category category$>$ \\
int \mbox{\hyperlink{classPhaseManager}{Phase\+Manager}}$<$ category $>$\+::ndevices \{0\}\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 306 of file device\+\_\+queues.\+hpp.



Referenced by Phase\+Manager$<$ category $>$\+::front().

\mbox{\Hypertarget{classPhaseManager_ad30001034ff48761af1b794a166f507d}\label{classPhaseManager_ad30001034ff48761af1b794a166f507d}} 
\index{PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}!num\_tasks@{num\_tasks}}
\index{num\_tasks@{num\_tasks}!PhaseManager$<$ category $>$@{PhaseManager$<$ category $>$}}
\doxysubsubsection{\texorpdfstring{num\_tasks}{num\_tasks}}
{\footnotesize\ttfamily template$<$Resource\+Category category$>$ \\
std\+::atomic$<$int$>$ \mbox{\hyperlink{classPhaseManager}{Phase\+Manager}}$<$ category $>$\+::num\+\_\+tasks \{0\}\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 307 of file device\+\_\+queues.\+hpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/c/backend/include/\mbox{\hyperlink{device__queues_8hpp}{device\+\_\+queues.\+hpp}}\end{DoxyCompactItemize}
