<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Parla: InnerScheduler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Parla
   </div>
   <div id="projectbrief">Heterogeneous Parallel Programming in Python</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classInnerScheduler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">InnerScheduler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The C++ "Mirror" of Parla's Python <a class="el" href="namespaceScheduler.html">Scheduler</a> This class is used to create a C++ representation of a Parla <a class="el" href="namespaceScheduler.html">Scheduler</a> All scheduling logic should be handled by these after creation until launched by the Python callback.  
 <a href="classInnerScheduler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for InnerScheduler:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler__coll__graph.png" border="0" usemap="#aInnerScheduler_coll__map" alt="Collaboration graph"/></div>
<map name="aInnerScheduler_coll__map" id="aInnerScheduler_coll__map">
<area shape="rect" title="The C++ &quot;Mirror&quot; of Parla&#39;s Python Scheduler This class is used to create a C++ representation of a P..." alt="" coords="716,383,835,409"/>
<area shape="rect" href="classSchedulerPhase.html" title="Abstract Interface for general scheduler runtime phase." alt="" coords="1066,276,1191,303"/>
<area shape="rect" href="classDeviceManager.html" title="DeviceManager registers/provides devices and their information on the current system to the Parla run..." alt="" coords="5,419,129,445"/>
<area shape="rect" href="classPArrayTracker.html" title=" " alt="" coords="343,480,453,507"/>
<area shape="rect" href="classLauncher.html" title="The Launcher phase of the scheduler. Dispatches tasks to workers." alt="" coords="1437,107,1519,133"/>
<area shape="rect" href="classRuntimeReserver.html" title="RuntimeReserver phase of the scheduler." alt="" coords="1411,273,1545,300"/>
<area shape="rect" href="classMemoryReserver.html" title="MemoryReserver phase of the scheduler." alt="" coords="1411,407,1545,433"/>
<area shape="rect" href="classMapper.html" title="Mapper phase of the scheduler." alt="" coords="1443,520,1513,547"/>
<area shape="rect" href="classProtectedVector.html" title=" " alt="" coords="1007,56,1251,83"/>
<area shape="rect" href="classLauncherStatus.html" title=" " alt="" coords="1067,5,1190,32"/>
<area shape="rect" href="classPhaseStatus.html" title=" " alt="" coords="663,5,888,32"/>
<area shape="rect" href="classProtectedVector.html" title=" " alt="" coords="1015,107,1243,133"/>
<area shape="rect" href="classRuntimeReserverStatus.html" title=" " alt="" coords="1041,157,1217,184"/>
<area shape="rect" href="classPhaseStatus.html" title=" " alt="" coords="660,150,891,191"/>
<area shape="rect" href="classScheduler_1_1Status.html" title=" " alt="" coords="331,531,465,557"/>
<area shape="rect" title=" " alt="" coords="355,300,441,327"/>
<area shape="rect" href="classWorkerPool.html" title=" " alt="" coords="297,351,499,393"/>
<area shape="rect" href="classMemoryReserverStatus.html" title=" " alt="" coords="1041,539,1216,565"/>
<area shape="rect" href="classPhaseStatus.html" title=" " alt="" coords="661,527,890,569"/>
<area shape="rect" href="classProtectedQueue.html" title=" " alt="" coords="1014,640,1243,667"/>
<area shape="rect" href="classMapperStatus.html" title=" " alt="" coords="1073,589,1185,616"/>
<area shape="rect" href="classPhaseStatus.html" title=" " alt="" coords="668,593,883,620"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaed710c208e5a28162c3b181f8a33d23"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#aaed710c208e5a28162c3b181f8a33d23">InnerScheduler</a> (<a class="el" href="classDeviceManager.html">DeviceManager</a> *device_manager)</td></tr>
<tr class="separator:aaed710c208e5a28162c3b181f8a33d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765ce76f1baf1c94da77efc17be30457"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a765ce76f1baf1c94da77efc17be30457">~InnerScheduler</a> ()</td></tr>
<tr class="separator:a765ce76f1baf1c94da77efc17be30457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cec502394122abe55658243c02ff3dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a6cec502394122abe55658243c02ff3dc">set_num_workers</a> (int nworkers)</td></tr>
<tr class="separator:a6cec502394122abe55658243c02ff3dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5b7ad179cc600d36065f07db3873ecc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#ac5b7ad179cc600d36065f07db3873ecc">set_py_scheduler</a> (void *<a class="el" href="classInnerScheduler.html#aacefdd230a7424b23bb4177fff5ec8fa">py_scheduler</a>)</td></tr>
<tr class="separator:ac5b7ad179cc600d36065f07db3873ecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bdbcf712028d0b3e7f9cb92c7635764"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a1bdbcf712028d0b3e7f9cb92c7635764">set_stop_callback</a> (<a class="el" href="runtime_8hpp.html#abd5c6c520d3421f2e921502f9cb2492c">stopfunc_t</a> <a class="el" href="classInnerScheduler.html#a7cb352ac732c46546bd203798dcaf822">stop_callback</a>)</td></tr>
<tr class="separator:a1bdbcf712028d0b3e7f9cb92c7635764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f4d7b87785bdfcd5158e1ffd7c2e0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a19f4d7b87785bdfcd5158e1ffd7c2e0a">run</a> ()</td></tr>
<tr class="separator:a19f4d7b87785bdfcd5158e1ffd7c2e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3af3b46d1f72a9789f2f085f878e0cca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a3af3b46d1f72a9789f2f085f878e0cca">stop</a> ()</td></tr>
<tr class="separator:a3af3b46d1f72a9789f2f085f878e0cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f38e7632a5733f36da2834ef20c99e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classScheduler_1_1Status.html">Scheduler::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a17f38e7632a5733f36da2834ef20c99e">activate</a> ()</td></tr>
<tr class="separator:a17f38e7632a5733f36da2834ef20c99e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae07fab8fc43aebfc5bbf73b7474d3e0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#ae07fab8fc43aebfc5bbf73b7474d3e0b">activate_wrapper</a> ()</td></tr>
<tr class="separator:ae07fab8fc43aebfc5bbf73b7474d3e0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52bc4a779f9471411c6b0e2f8d720d61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a52bc4a779f9471411c6b0e2f8d720d61">spawn_task</a> (<a class="el" href="classInnerTask.html">InnerTask</a> *task)</td></tr>
<tr class="separator:a52bc4a779f9471411c6b0e2f8d720d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2104255a5058ab7b336d816c003d4d24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a2104255a5058ab7b336d816c003d4d24">enqueue_task</a> (<a class="el" href="classInnerTask.html">InnerTask</a> *task, <a class="el" href="classTaskStatusFlags.html">TaskStatusFlags</a> flags)</td></tr>
<tr class="separator:a2104255a5058ab7b336d816c003d4d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac1035ac8fd1f43b241db61637fce76a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#aac1035ac8fd1f43b241db61637fce76a">enqueue_tasks</a> (<a class="el" href="runtime_8hpp.html#a590856e426f16e0d758fdaeeb59507d6">TaskStatusList</a> &amp;tasks)</td></tr>
<tr class="separator:aac1035ac8fd1f43b241db61637fce76a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4821aa6fb79d311aedac0f0ca92a1697"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a4821aa6fb79d311aedac0f0ca92a1697">add_worker</a> (<a class="el" href="classInnerWorker.html">InnerWorker</a> *worker)</td></tr>
<tr class="separator:a4821aa6fb79d311aedac0f0ca92a1697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b2df21cffbb84f5a19831563c81ac19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a8b2df21cffbb84f5a19831563c81ac19">enqueue_worker</a> (<a class="el" href="classInnerWorker.html">InnerWorker</a> *worker)</td></tr>
<tr class="separator:a8b2df21cffbb84f5a19831563c81ac19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a379b814bdf9d16a3954036f2f63d3c1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a379b814bdf9d16a3954036f2f63d3c1a">task_cleanup</a> (<a class="el" href="classInnerWorker.html">InnerWorker</a> *worker, <a class="el" href="classInnerTask.html">InnerTask</a> *task, int state)</td></tr>
<tr class="separator:a379b814bdf9d16a3954036f2f63d3c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92eba7911e5c3491f79d07f16c152030"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a92eba7911e5c3491f79d07f16c152030">task_cleanup_presync</a> (<a class="el" href="classInnerWorker.html">InnerWorker</a> *worker, <a class="el" href="classInnerTask.html">InnerTask</a> *task, int state)</td></tr>
<tr class="separator:a92eba7911e5c3491f79d07f16c152030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae168936fb94b2602cb78867209b12cad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#ae168936fb94b2602cb78867209b12cad">task_cleanup_postsync</a> (<a class="el" href="classInnerWorker.html">InnerWorker</a> *worker, <a class="el" href="classInnerTask.html">InnerTask</a> *task, int state)</td></tr>
<tr class="separator:ae168936fb94b2602cb78867209b12cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8385987e55a1ba90f988f4781ee91ccc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a8385987e55a1ba90f988f4781ee91ccc">get_num_active_tasks</a> ()</td></tr>
<tr class="separator:a8385987e55a1ba90f988f4781ee91ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dc689561b6acadbb9393ae92a3f3d0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a7dc689561b6acadbb9393ae92a3f3d0f">increase_num_active_tasks</a> ()</td></tr>
<tr class="separator:a7dc689561b6acadbb9393ae92a3f3d0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ae8d4c3766ddc6746daae230179e79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a62ae8d4c3766ddc6746daae230179e79">decrease_num_active_tasks</a> ()</td></tr>
<tr class="separator:a62ae8d4c3766ddc6746daae230179e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50bff0e55ab7dc8beb2a4851be3f2895"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a50bff0e55ab7dc8beb2a4851be3f2895">increase_num_notified_workers</a> ()</td></tr>
<tr class="separator:a50bff0e55ab7dc8beb2a4851be3f2895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d5353340c8b72bf630d2cecaeca1638"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a5d5353340c8b72bf630d2cecaeca1638">decrease_num_notified_workers</a> ()</td></tr>
<tr class="separator:a5d5353340c8b72bf630d2cecaeca1638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84bbaab0860c65871516a5da1bd69304"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a84bbaab0860c65871516a5da1bd69304">get_num_running_tasks</a> ()</td></tr>
<tr class="separator:a84bbaab0860c65871516a5da1bd69304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e609c2ae554c0a849d65378706c2c63"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a9e609c2ae554c0a849d65378706c2c63">get_num_ready_tasks</a> ()</td></tr>
<tr class="separator:a9e609c2ae554c0a849d65378706c2c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c9622a83be436dc187d3c1ba8486816"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a9c9622a83be436dc187d3c1ba8486816">get_num_notified_workers</a> ()</td></tr>
<tr class="separator:a9c9622a83be436dc187d3c1ba8486816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacaabfd3ed87c7f92225e9561046d437"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPArrayTracker.html">PArrayTracker</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#aacaabfd3ed87c7f92225e9561046d437">get_parray_tracker</a> ()</td></tr>
<tr class="separator:aacaabfd3ed87c7f92225e9561046d437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad46b9406a41038712d053030b1c31c58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#ad46b9406a41038712d053030b1c31c58">reserve_parray</a> (<a class="el" href="classparray_1_1InnerPArray.html">parray::InnerPArray</a> *parray, <a class="el" href="device_8hpp.html#a1a60ef2726088f66773542604d44bdd7">DevID_t</a> global_dev_id)</td></tr>
<tr class="separator:ad46b9406a41038712d053030b1c31c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41dcc9c04487a8c9f3d52a0f1e72b513"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a41dcc9c04487a8c9f3d52a0f1e72b513">release_parray</a> (<a class="el" href="classparray_1_1InnerPArray.html">parray::InnerPArray</a> *parray, <a class="el" href="device_8hpp.html#a1a60ef2726088f66773542604d44bdd7">DevID_t</a> global_dev_id)</td></tr>
<tr class="separator:a41dcc9c04487a8c9f3d52a0f1e72b513"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24ba2b6e8ab88ab86cfd0bcb42e0de5a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a24ba2b6e8ab88ab86cfd0bcb42e0de5a">get_parray_state</a> (<a class="el" href="device_8hpp.html#a1a60ef2726088f66773542604d44bdd7">DevID_t</a> global_dev_idx, uint64_t parray_parent_id)</td></tr>
<tr class="separator:a24ba2b6e8ab88ab86cfd0bcb42e0de5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39dc45323a26436554dd2c2854f658f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a39dc45323a26436554dd2c2854f658f7">spawn_wait</a> ()</td></tr>
<tr class="separator:a39dc45323a26436554dd2c2854f658f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2fa4cc6ee8b95e4b25e67d0ca6991bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDeviceManager.html">DeviceManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#ad2fa4cc6ee8b95e4b25e67d0ca6991bb">get_device_manager</a> ()</td></tr>
<tr class="separator:ad2fa4cc6ee8b95e4b25e67d0ca6991bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad2a2a9db8e368e5295285615c1f41a8e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#ad2a2a9db8e368e5295285615c1f41a8e">sleep_flag</a> = false</td></tr>
<tr class="separator:ad2a2a9db8e368e5295285615c1f41a8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4243a64176366bda8a6f71f94af6412"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#af4243a64176366bda8a6f71f94af6412">sleep_time</a> = 20</td></tr>
<tr class="separator:af4243a64176366bda8a6f71f94af6412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07846c2bc48bd3aa6cc2faf807257444"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classInnerTask.html">InnerTask</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a07846c2bc48bd3aa6cc2faf807257444">task_buffer</a> = std::vector&lt;<a class="el" href="classInnerTask.html">InnerTask</a> *&gt;(10)</td></tr>
<tr class="separator:a07846c2bc48bd3aa6cc2faf807257444"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdcdea945f320f24fad6ad5215639383"><td class="memItemLeft" align="right" valign="top"><a class="el" href="runtime_8hpp.html#ad1a75a7786204109d89bae6dc95fccc1">WorkerPool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#acdcdea945f320f24fad6ad5215639383">workers</a></td></tr>
<tr class="separator:acdcdea945f320f24fad6ad5215639383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a7e270f0eafee1407caf9418f8dc8fa"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a5a7e270f0eafee1407caf9418f8dc8fa">num_active_tasks</a> {1}</td></tr>
<tr class="separator:a5a7e270f0eafee1407caf9418f8dc8fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41d128151484454a8bce5473997ac423"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a41d128151484454a8bce5473997ac423">should_run</a> = true</td></tr>
<tr class="separator:a41d128151484454a8bce5473997ac423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4979faf961d3bed8f0afd2e98e87d99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMapper.html">Mapper</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#ae4979faf961d3bed8f0afd2e98e87d99">mapper</a></td></tr>
<tr class="separator:ae4979faf961d3bed8f0afd2e98e87d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5dc0d58cd89946f73416c3635d35d45"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMemoryReserver.html">MemoryReserver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#ae5dc0d58cd89946f73416c3635d35d45">memory_reserver</a></td></tr>
<tr class="separator:ae5dc0d58cd89946f73416c3635d35d45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84607342ed8e50f0c12322711821c9e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRuntimeReserver.html">RuntimeReserver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a84607342ed8e50f0c12322711821c9e4">runtime_reserver</a></td></tr>
<tr class="separator:a84607342ed8e50f0c12322711821c9e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2226b978da426cacf0175c288244dee1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLauncher.html">Launcher</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a2226b978da426cacf0175c288244dee1">launcher</a></td></tr>
<tr class="separator:a2226b978da426cacf0175c288244dee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cb352ac732c46546bd203798dcaf822"><td class="memItemLeft" align="right" valign="top"><a class="el" href="runtime_8hpp.html#abd5c6c520d3421f2e921502f9cb2492c">stopfunc_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#a7cb352ac732c46546bd203798dcaf822">stop_callback</a></td></tr>
<tr class="separator:a7cb352ac732c46546bd203798dcaf822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacefdd230a7424b23bb4177fff5ec8fa"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#aacefdd230a7424b23bb4177fff5ec8fa">py_scheduler</a></td></tr>
<tr class="separator:aacefdd230a7424b23bb4177fff5ec8fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacca6b94f018b099863a29d39273bd59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classScheduler_1_1Status.html">Scheduler::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#aacca6b94f018b099863a29d39273bd59">status</a></td></tr>
<tr class="separator:aacca6b94f018b099863a29d39273bd59"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:abf4ca3eda40c00a551af743d170a705a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDeviceManager.html">DeviceManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#abf4ca3eda40c00a551af743d170a705a">device_manager_</a></td></tr>
<tr class="memdesc:abf4ca3eda40c00a551af743d170a705a"><td class="mdescLeft">&#160;</td><td class="mdescRight">It manages all device instances in C++.  <a href="classInnerScheduler.html#abf4ca3eda40c00a551af743d170a705a">More...</a><br /></td></tr>
<tr class="separator:abf4ca3eda40c00a551af743d170a705a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae42bb74656d12dbc2a773bda4e53b9f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPArrayTracker.html">PArrayTracker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnerScheduler.html#ae42bb74656d12dbc2a773bda4e53b9f0">parray_tracker_</a></td></tr>
<tr class="memdesc:ae42bb74656d12dbc2a773bda4e53b9f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">It manages the current/planned distribution of PArrays across devices.  <a href="classInnerScheduler.html#ae42bb74656d12dbc2a773bda4e53b9f0">More...</a><br /></td></tr>
<tr class="separator:ae42bb74656d12dbc2a773bda4e53b9f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The C++ "Mirror" of Parla's Python <a class="el" href="namespaceScheduler.html">Scheduler</a> This class is used to create a C++ representation of a Parla <a class="el" href="namespaceScheduler.html">Scheduler</a> All scheduling logic should be handled by these after creation until launched by the Python callback. </p>

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l00968">968</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aaed710c208e5a28162c3b181f8a33d23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaed710c208e5a28162c3b181f8a33d23">&#9670;&nbsp;</a></span>InnerScheduler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InnerScheduler::InnerScheduler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDeviceManager.html">DeviceManager</a> *&#160;</td>
          <td class="paramname"><em>device_manager</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00126">126</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    : <a class="code" href="classInnerScheduler.html#abf4ca3eda40c00a551af743d170a705a">device_manager_</a>(device_manager), <a class="code" href="classInnerScheduler.html#ae42bb74656d12dbc2a773bda4e53b9f0">parray_tracker_</a>(device_manager) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="comment">// A dummy task count is used to keep the scheduler alive.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="comment">// NOTE: At least one task must be added to the scheduler by the main thread,</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="comment">// otherwise the runtime will finish immediately</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="comment">// this-&gt;increase_num_active_tasks();</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#acdcdea945f320f24fad6ad5215639383">workers</a>.<a class="code" href="classWorkerPool.html#aac07a5bca0f916792c20f58e2b121a7e">set_num_workers</a>(1);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// Mapping policy</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  std::shared_ptr&lt;LocalityLoadBalancingMappingPolicy&gt; mapping_policy =</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      std::make_shared&lt;LocalityLoadBalancingMappingPolicy&gt;(</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;          device_manager, &amp;this-&gt;<a class="code" href="classInnerScheduler.html#ae42bb74656d12dbc2a773bda4e53b9f0">parray_tracker_</a>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// Initialize the phases</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#ae4979faf961d3bed8f0afd2e98e87d99">mapper</a> = <span class="keyword">new</span> <a class="code" href="classMapper.html">Mapper</a>(<span class="keyword">this</span>, device_manager, std::move(mapping_policy));</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#ae5dc0d58cd89946f73416c3635d35d45">memory_reserver</a> = <span class="keyword">new</span> <a class="code" href="classMemoryReserver.html">MemoryReserver</a>(<span class="keyword">this</span>, device_manager);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#a84607342ed8e50f0c12322711821c9e4">runtime_reserver</a> = <span class="keyword">new</span> <a class="code" href="classRuntimeReserver.html">RuntimeReserver</a>(<span class="keyword">this</span>, device_manager);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#a2226b978da426cacf0175c288244dee1">launcher</a> = <span class="keyword">new</span> <a class="code" href="classLauncher.html">Launcher</a>(<span class="keyword">this</span>, device_manager);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// this-&gt;resources = std::make_shared &lt; ResourcePool&lt;std::atomic&lt;int64_t&gt;&gt;();</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div>
<div class="ttc" id="aclassInnerScheduler_html_a2226b978da426cacf0175c288244dee1"><div class="ttname"><a href="classInnerScheduler.html#a2226b978da426cacf0175c288244dee1">InnerScheduler::launcher</a></div><div class="ttdeci">Launcher * launcher</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l00997">runtime.hpp:997</a></div></div>
<div class="ttc" id="aclassInnerScheduler_html_a84607342ed8e50f0c12322711821c9e4"><div class="ttname"><a href="classInnerScheduler.html#a84607342ed8e50f0c12322711821c9e4">InnerScheduler::runtime_reserver</a></div><div class="ttdeci">RuntimeReserver * runtime_reserver</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l00994">runtime.hpp:994</a></div></div>
<div class="ttc" id="aclassInnerScheduler_html_abf4ca3eda40c00a551af743d170a705a"><div class="ttname"><a href="classInnerScheduler.html#abf4ca3eda40c00a551af743d170a705a">InnerScheduler::device_manager_</a></div><div class="ttdeci">DeviceManager * device_manager_</div><div class="ttdoc">It manages all device instances in C++.</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l01116">runtime.hpp:1116</a></div></div>
<div class="ttc" id="aclassInnerScheduler_html_acdcdea945f320f24fad6ad5215639383"><div class="ttname"><a href="classInnerScheduler.html#acdcdea945f320f24fad6ad5215639383">InnerScheduler::workers</a></div><div class="ttdeci">WorkerPool_t workers</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l00981">runtime.hpp:981</a></div></div>
<div class="ttc" id="aclassInnerScheduler_html_ae42bb74656d12dbc2a773bda4e53b9f0"><div class="ttname"><a href="classInnerScheduler.html#ae42bb74656d12dbc2a773bda4e53b9f0">InnerScheduler::parray_tracker_</a></div><div class="ttdeci">PArrayTracker parray_tracker_</div><div class="ttdoc">It manages the current/planned distribution of PArrays across devices.</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l01120">runtime.hpp:1120</a></div></div>
<div class="ttc" id="aclassInnerScheduler_html_ae4979faf961d3bed8f0afd2e98e87d99"><div class="ttname"><a href="classInnerScheduler.html#ae4979faf961d3bed8f0afd2e98e87d99">InnerScheduler::mapper</a></div><div class="ttdeci">Mapper * mapper</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l00990">runtime.hpp:990</a></div></div>
<div class="ttc" id="aclassInnerScheduler_html_ae5dc0d58cd89946f73416c3635d35d45"><div class="ttname"><a href="classInnerScheduler.html#ae5dc0d58cd89946f73416c3635d35d45">InnerScheduler::memory_reserver</a></div><div class="ttdeci">MemoryReserver * memory_reserver</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l00993">runtime.hpp:993</a></div></div>
<div class="ttc" id="aclassLauncher_html"><div class="ttname"><a href="classLauncher.html">Launcher</a></div><div class="ttdoc">The Launcher phase of the scheduler. Dispatches tasks to workers.</div><div class="ttdef"><b>Definition:</b> <a href="phases_8hpp_source.html#l00354">phases.hpp:354</a></div></div>
<div class="ttc" id="aclassMapper_html"><div class="ttname"><a href="classMapper.html">Mapper</a></div><div class="ttdoc">Mapper phase of the scheduler.</div><div class="ttdef"><b>Definition:</b> <a href="phases_8hpp_source.html#l00156">phases.hpp:156</a></div></div>
<div class="ttc" id="aclassMemoryReserver_html"><div class="ttname"><a href="classMemoryReserver.html">MemoryReserver</a></div><div class="ttdoc">MemoryReserver phase of the scheduler.</div><div class="ttdef"><b>Definition:</b> <a href="phases_8hpp_source.html#l00244">phases.hpp:244</a></div></div>
<div class="ttc" id="aclassRuntimeReserver_html"><div class="ttname"><a href="classRuntimeReserver.html">RuntimeReserver</a></div><div class="ttdoc">RuntimeReserver phase of the scheduler.</div><div class="ttdef"><b>Definition:</b> <a href="phases_8hpp_source.html#l00291">phases.hpp:291</a></div></div>
<div class="ttc" id="aclassWorkerPool_html_aac07a5bca0f916792c20f58e2b121a7e"><div class="ttname"><a href="classWorkerPool.html#aac07a5bca0f916792c20f58e2b121a7e">WorkerPool::set_num_workers</a></div><div class="ttdeci">void set_num_workers(int nworkers)</div><div class="ttdoc">set number of total workers</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00100">scheduler.cpp:100</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classInnerScheduler.html#abf4ca3eda40c00a551af743d170a705a">device_manager_</a>, <a class="el" href="classInnerScheduler.html#aaed710c208e5a28162c3b181f8a33d23">InnerScheduler()</a>, <a class="el" href="classLauncher.html#a12e01578528a06d29695d8aadb1c0b6d">Launcher::Launcher()</a>, <a class="el" href="classInnerScheduler.html#a2226b978da426cacf0175c288244dee1">launcher</a>, <a class="el" href="classInnerScheduler.html#ae5dc0d58cd89946f73416c3635d35d45">memory_reserver</a>, <a class="el" href="classMemoryReserver.html#a8e030d125362eb12aa0fe7a81242d71e">MemoryReserver::MemoryReserver()</a>, <a class="el" href="classInnerScheduler.html#a84607342ed8e50f0c12322711821c9e4">runtime_reserver</a>, and <a class="el" href="classRuntimeReserver.html#aa4630fbab67c38b78ce14b4f9bcfcaf1">RuntimeReserver::RuntimeReserver()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#aaed710c208e5a28162c3b181f8a33d23">InnerScheduler()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_aaed710c208e5a28162c3b181f8a33d23_cgraph.png" border="0" usemap="#aclassInnerScheduler_aaed710c208e5a28162c3b181f8a33d23_cgraph" alt=""/></div>
<map name="aclassInnerScheduler_aaed710c208e5a28162c3b181f8a33d23_cgraph" id="aclassInnerScheduler_aaed710c208e5a28162c3b181f8a33d23_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,229,83"/>
<area shape="rect" href="classLauncher.html#a12e01578528a06d29695d8aadb1c0b6d" title=" " alt="" coords="331,5,479,32"/>
<area shape="rect" href="classMemoryReserver.html#a8e030d125362eb12aa0fe7a81242d71e" title=" " alt="" coords="277,56,532,83"/>
<area shape="rect" href="classRuntimeReserver.html#aa4630fbab67c38b78ce14b4f9bcfcaf1" title=" " alt="" coords="305,107,504,149"/>
<area shape="rect" href="classSchedulerPhase.html#ac072216548814d50ca21391a6bb3c240" title="Constructor for the scheduler phase." alt="" coords="580,49,777,90"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_aaed710c208e5a28162c3b181f8a33d23_icgraph.png" border="0" usemap="#aclassInnerScheduler_aaed710c208e5a28162c3b181f8a33d23_icgraph" alt=""/></div>
<map name="aclassInnerScheduler_aaed710c208e5a28162c3b181f8a33d23_icgraph" id="aclassInnerScheduler_aaed710c208e5a28162c3b181f8a33d23_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,229,56"/>
</map>
</div>

</div>
</div>
<a id="a765ce76f1baf1c94da77efc17be30457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a765ce76f1baf1c94da77efc17be30457">&#9670;&nbsp;</a></span>~InnerScheduler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InnerScheduler::~InnerScheduler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00149">149</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                                {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keyword">delete</span> this-&gt;<a class="code" href="classInnerScheduler.html#ae4979faf961d3bed8f0afd2e98e87d99">mapper</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keyword">delete</span> this-&gt;<a class="code" href="classInnerScheduler.html#ae5dc0d58cd89946f73416c3635d35d45">memory_reserver</a>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keyword">delete</span> this-&gt;<a class="code" href="classInnerScheduler.html#a84607342ed8e50f0c12322711821c9e4">runtime_reserver</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keyword">delete</span> this-&gt;<a class="code" href="classInnerScheduler.html#a2226b978da426cacf0175c288244dee1">launcher</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classInnerScheduler.html#a2226b978da426cacf0175c288244dee1">launcher</a>, <a class="el" href="classInnerScheduler.html#ae4979faf961d3bed8f0afd2e98e87d99">mapper</a>, <a class="el" href="classInnerScheduler.html#ae5dc0d58cd89946f73416c3635d35d45">memory_reserver</a>, and <a class="el" href="classInnerScheduler.html#a84607342ed8e50f0c12322711821c9e4">runtime_reserver</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a17f38e7632a5733f36da2834ef20c99e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17f38e7632a5733f36da2834ef20c99e">&#9670;&nbsp;</a></span>activate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classScheduler_1_1Status.html">Scheduler::Status</a> InnerScheduler::activate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00186">186</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                                         {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// std::cout&lt;&lt; &quot;Scheduler Activated&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#ae4979faf961d3bed8f0afd2e98e87d99">mapper</a>-&gt;<a class="code" href="classMapper.html#aac615e8b8eca887e3d788db09d2d989d">run</a>(this-&gt;<a class="code" href="classInnerScheduler.html#ae5dc0d58cd89946f73416c3635d35d45">memory_reserver</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#ae5dc0d58cd89946f73416c3635d35d45">memory_reserver</a>-&gt;<a class="code" href="classMemoryReserver.html#a03b6be802b5d6d19761773fa7a1df866">run</a>(this-&gt;<a class="code" href="classInnerScheduler.html#a84607342ed8e50f0c12322711821c9e4">runtime_reserver</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#a84607342ed8e50f0c12322711821c9e4">runtime_reserver</a>-&gt;<a class="code" href="classRuntimeReserver.html#aaa9106861bccbc209f7f1fa81defdfd9">run</a>(this-&gt;<a class="code" href="classInnerScheduler.html#a2226b978da426cacf0175c288244dee1">launcher</a>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">// LOG_TRACE(SCHEDULER, &quot;ReadyPhase Status: {}&quot;, this-&gt;runtime_reserver);</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classInnerScheduler.html#aacca6b94f018b099863a29d39273bd59">status</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="ttc" id="aclassInnerScheduler_html_aacca6b94f018b099863a29d39273bd59"><div class="ttname"><a href="classInnerScheduler.html#aacca6b94f018b099863a29d39273bd59">InnerScheduler::status</a></div><div class="ttdeci">Scheduler::Status status</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l01010">runtime.hpp:1010</a></div></div>
<div class="ttc" id="aclassMapper_html_aac615e8b8eca887e3d788db09d2d989d"><div class="ttname"><a href="classMapper.html#aac615e8b8eca887e3d788db09d2d989d">Mapper::run</a></div><div class="ttdeci">void run(SchedulerPhase *next_phase)</div><div class="ttdoc">Run the phase. Check tasks in the enqueued buffer, check phase condition, and move tasks to the next ...</div><div class="ttdef"><b>Definition:</b> <a href="phases_8cpp_source.html#l00027">phases.cpp:27</a></div></div>
<div class="ttc" id="aclassMemoryReserver_html_a03b6be802b5d6d19761773fa7a1df866"><div class="ttname"><a href="classMemoryReserver.html#a03b6be802b5d6d19761773fa7a1df866">MemoryReserver::run</a></div><div class="ttdeci">void run(SchedulerPhase *next_phase)</div><div class="ttdoc">Run the phase. Check tasks in the enqueued buffer, check phase condition, and move tasks to the next ...</div><div class="ttdef"><b>Definition:</b> <a href="phases_8cpp_source.html#l00241">phases.cpp:241</a></div></div>
<div class="ttc" id="aclassRuntimeReserver_html_aaa9106861bccbc209f7f1fa81defdfd9"><div class="ttname"><a href="classRuntimeReserver.html#aaa9106861bccbc209f7f1fa81defdfd9">RuntimeReserver::run</a></div><div class="ttdeci">void run(SchedulerPhase *next_phase)</div><div class="ttdoc">Run the phase. Check tasks in the enqueued buffer, check phase condition, and move tasks to the next ...</div><div class="ttdef"><b>Definition:</b> <a href="phases_8cpp_source.html#l00387">phases.cpp:387</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classInnerScheduler.html#a2226b978da426cacf0175c288244dee1">launcher</a>, <a class="el" href="classInnerScheduler.html#ae4979faf961d3bed8f0afd2e98e87d99">mapper</a>, <a class="el" href="classInnerScheduler.html#ae5dc0d58cd89946f73416c3635d35d45">memory_reserver</a>, <a class="el" href="classMapper.html#aac615e8b8eca887e3d788db09d2d989d">Mapper::run()</a>, <a class="el" href="classMemoryReserver.html#a03b6be802b5d6d19761773fa7a1df866">MemoryReserver::run()</a>, <a class="el" href="classRuntimeReserver.html#aaa9106861bccbc209f7f1fa81defdfd9">RuntimeReserver::run()</a>, <a class="el" href="classInnerScheduler.html#a84607342ed8e50f0c12322711821c9e4">runtime_reserver</a>, and <a class="el" href="classInnerScheduler.html#aacca6b94f018b099863a29d39273bd59">status</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#ae07fab8fc43aebfc5bbf73b7474d3e0b">activate_wrapper()</a>, and <a class="el" href="classInnerScheduler.html#a19f4d7b87785bdfcd5158e1ffd7c2e0a">run()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a17f38e7632a5733f36da2834ef20c99e_cgraph.png" border="0" usemap="#aclassInnerScheduler_a17f38e7632a5733f36da2834ef20c99e_cgraph" alt=""/></div>
<map name="aclassInnerScheduler_a17f38e7632a5733f36da2834ef20c99e_cgraph" id="aclassInnerScheduler_a17f38e7632a5733f36da2834ef20c99e_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,185,83"/>
<area shape="rect" href="classMapper.html#aac615e8b8eca887e3d788db09d2d989d" title="Run the phase. Check tasks in the enqueued buffer, check phase condition, and move tasks to the next ..." alt="" coords="265,5,365,32"/>
<area shape="rect" href="classMemoryReserver.html#a03b6be802b5d6d19761773fa7a1df866" title="Run the phase. Check tasks in the enqueued buffer, check phase condition, and move tasks to the next ..." alt="" coords="234,56,397,83"/>
<area shape="rect" href="classRuntimeReserver.html#aaa9106861bccbc209f7f1fa81defdfd9" title="Run the phase. Check tasks in the enqueued buffer, check phase condition, and move tasks to the next ..." alt="" coords="233,107,397,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a17f38e7632a5733f36da2834ef20c99e_icgraph.png" border="0" usemap="#aclassInnerScheduler_a17f38e7632a5733f36da2834ef20c99e_icgraph" alt=""/></div>
<map name="aclassInnerScheduler_a17f38e7632a5733f36da2834ef20c99e_icgraph" id="aclassInnerScheduler_a17f38e7632a5733f36da2834ef20c99e_icgraph">
<area shape="rect" title=" " alt="" coords="233,42,413,69"/>
<area shape="rect" href="classInnerScheduler.html#ae07fab8fc43aebfc5bbf73b7474d3e0b" title=" " alt="" coords="5,5,185,47"/>
<area shape="rect" href="classInnerScheduler.html#a19f4d7b87785bdfcd5158e1ffd7c2e0a" title=" " alt="" coords="21,71,169,98"/>
</map>
</div>

</div>
</div>
<a id="ae07fab8fc43aebfc5bbf73b7474d3e0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae07fab8fc43aebfc5bbf73b7474d3e0b">&#9670;&nbsp;</a></span>activate_wrapper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::activate_wrapper </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00197">197</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{ this-&gt;<a class="code" href="classInnerScheduler.html#a17f38e7632a5733f36da2834ef20c99e">activate</a>(); }</div>
<div class="ttc" id="aclassInnerScheduler_html_a17f38e7632a5733f36da2834ef20c99e"><div class="ttname"><a href="classInnerScheduler.html#a17f38e7632a5733f36da2834ef20c99e">InnerScheduler::activate</a></div><div class="ttdeci">Scheduler::Status activate()</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00186">scheduler.cpp:186</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classInnerScheduler.html#a17f38e7632a5733f36da2834ef20c99e">activate()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_ae07fab8fc43aebfc5bbf73b7474d3e0b_cgraph.png" border="0" usemap="#aclassInnerScheduler_ae07fab8fc43aebfc5bbf73b7474d3e0b_cgraph" alt=""/></div>
<map name="aclassInnerScheduler_ae07fab8fc43aebfc5bbf73b7474d3e0b_cgraph" id="aclassInnerScheduler_ae07fab8fc43aebfc5bbf73b7474d3e0b_cgraph">
<area shape="rect" title=" " alt="" coords="5,49,185,90"/>
<area shape="rect" href="classInnerScheduler.html#a17f38e7632a5733f36da2834ef20c99e" title=" " alt="" coords="233,56,413,83"/>
<area shape="rect" href="classMapper.html#aac615e8b8eca887e3d788db09d2d989d" title="Run the phase. Check tasks in the enqueued buffer, check phase condition, and move tasks to the next ..." alt="" coords="493,5,593,32"/>
<area shape="rect" href="classMemoryReserver.html#a03b6be802b5d6d19761773fa7a1df866" title="Run the phase. Check tasks in the enqueued buffer, check phase condition, and move tasks to the next ..." alt="" coords="462,56,625,83"/>
<area shape="rect" href="classRuntimeReserver.html#aaa9106861bccbc209f7f1fa81defdfd9" title="Run the phase. Check tasks in the enqueued buffer, check phase condition, and move tasks to the next ..." alt="" coords="461,107,625,133"/>
</map>
</div>

</div>
</div>
<a id="a4821aa6fb79d311aedac0f0ca92a1697"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4821aa6fb79d311aedac0f0ca92a1697">&#9670;&nbsp;</a></span>add_worker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::add_worker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInnerWorker.html">InnerWorker</a> *&#160;</td>
          <td class="paramname"><em>worker</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00235">235</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                                   {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <a class="code" href="profiling_8hpp.html#a9ebb3c6ae8e23ea2260d5274b3a22a89">LOG_INFO</a>(<a class="code" href="profiling_8hpp.html#a1b3f65587b48bff0583fb85181991b01">SCHEDULER</a>, <span class="stringliteral">&quot;Adding worker {} to pool&quot;</span>, <a class="code" href="namespaceparla_1_1cython_1_1core.html#a8368535304ebfdbd53c01c50f851dbc6">worker</a>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#acdcdea945f320f24fad6ad5215639383">workers</a>.<a class="code" href="classWorkerPool.html#a5680e0643399be1414c6e1158207d840">add_worker</a>(worker);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div>
<div class="ttc" id="aclassWorkerPool_html_a5680e0643399be1414c6e1158207d840"><div class="ttname"><a href="classWorkerPool.html#a5680e0643399be1414c6e1158207d840">WorkerPool::add_worker</a></div><div class="ttdeci">void add_worker(InnerWorker *worker)</div><div class="ttdoc">add a worker to the all pool</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00080">scheduler.cpp:80</a></div></div>
<div class="ttc" id="anamespaceparla_1_1cython_1_1core_html_a8368535304ebfdbd53c01c50f851dbc6"><div class="ttname"><a href="namespaceparla_1_1cython_1_1core.html#a8368535304ebfdbd53c01c50f851dbc6">parla.cython.core.worker</a></div><div class="ttdeci">worker</div><div class="ttdef"><b>Definition:</b> <a href="core_8pyx_source.html#l00140">core.pyx:140</a></div></div>
<div class="ttc" id="aprofiling_8hpp_html_a1b3f65587b48bff0583fb85181991b01"><div class="ttname"><a href="profiling_8hpp.html#a1b3f65587b48bff0583fb85181991b01">SCHEDULER</a></div><div class="ttdeci">#define SCHEDULER</div><div class="ttdef"><b>Definition:</b> <a href="profiling_8hpp_source.html#l00164">profiling.hpp:164</a></div></div>
<div class="ttc" id="aprofiling_8hpp_html_a9ebb3c6ae8e23ea2260d5274b3a22a89"><div class="ttname"><a href="profiling_8hpp.html#a9ebb3c6ae8e23ea2260d5274b3a22a89">LOG_INFO</a></div><div class="ttdeci">#define LOG_INFO(args...)</div><div class="ttdef"><b>Definition:</b> <a href="profiling_8hpp_source.html#l00148">profiling.hpp:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a62ae8d4c3766ddc6746daae230179e79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62ae8d4c3766ddc6746daae230179e79">&#9670;&nbsp;</a></span>decrease_num_active_tasks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::decrease_num_active_tasks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00338">338</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                                               {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordtype">int</span> count = this-&gt;<a class="code" href="classInnerScheduler.html#a5a7e270f0eafee1407caf9418f8dc8fa">num_active_tasks</a>.fetch_sub(1) - 1;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="comment">// std::cout &lt;&lt; &quot;Decreasing num active tasks: &quot; &lt;&lt; count &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">if</span> (count == 0) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    this-&gt;<a class="code" href="classInnerScheduler.html#a3af3b46d1f72a9789f2f085f878e0cca">stop</a>();</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div>
<div class="ttc" id="aclassInnerScheduler_html_a3af3b46d1f72a9789f2f085f878e0cca"><div class="ttname"><a href="classInnerScheduler.html#a3af3b46d1f72a9789f2f085f878e0cca">InnerScheduler::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00179">scheduler.cpp:179</a></div></div>
<div class="ttc" id="aclassInnerScheduler_html_a5a7e270f0eafee1407caf9418f8dc8fa"><div class="ttname"><a href="classInnerScheduler.html#a5a7e270f0eafee1407caf9418f8dc8fa">InnerScheduler::num_active_tasks</a></div><div class="ttdeci">std::atomic&lt; int &gt; num_active_tasks</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l00984">runtime.hpp:984</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classInnerScheduler.html#a3af3b46d1f72a9789f2f085f878e0cca">stop()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#ae168936fb94b2602cb78867209b12cad">task_cleanup_postsync()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a62ae8d4c3766ddc6746daae230179e79_cgraph.png" border="0" usemap="#aclassInnerScheduler_a62ae8d4c3766ddc6746daae230179e79_cgraph" alt=""/></div>
<map name="aclassInnerScheduler_a62ae8d4c3766ddc6746daae230179e79_cgraph" id="aclassInnerScheduler_a62ae8d4c3766ddc6746daae230179e79_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,192,47"/>
<area shape="rect" href="classInnerScheduler.html#a3af3b46d1f72a9789f2f085f878e0cca" title=" " alt="" coords="240,13,395,39"/>
<area shape="rect" href="runtime_8hpp.html#a8beb32839b6aa57c6e1e6de62b6056a6" title="Callback function to stop the main scheduler thread. Acquires the interpreter and signals the Python ..." alt="" coords="443,13,604,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a62ae8d4c3766ddc6746daae230179e79_icgraph.png" border="0" usemap="#aclassInnerScheduler_a62ae8d4c3766ddc6746daae230179e79_icgraph" alt=""/></div>
<map name="aclassInnerScheduler_a62ae8d4c3766ddc6746daae230179e79_icgraph" id="aclassInnerScheduler_a62ae8d4c3766ddc6746daae230179e79_icgraph">
<area shape="rect" title=" " alt="" coords="411,5,597,47"/>
<area shape="rect" href="classInnerScheduler.html#ae168936fb94b2602cb78867209b12cad" title=" " alt="" coords="208,5,363,47"/>
<area shape="rect" href="classInnerScheduler.html#a379b814bdf9d16a3954036f2f63d3c1a" title=" " alt="" coords="5,5,160,47"/>
</map>
</div>

</div>
</div>
<a id="a5d5353340c8b72bf630d2cecaeca1638"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d5353340c8b72bf630d2cecaeca1638">&#9670;&nbsp;</a></span>decrease_num_notified_workers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int InnerScheduler::decrease_num_notified_workers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00353">353</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                                  {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classInnerScheduler.html#acdcdea945f320f24fad6ad5215639383">workers</a>.<a class="code" href="classWorkerPool.html#ab9ca4e7daa41217828be53d64e8d3b11">decrease_num_notified_workers</a>();</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div>
<div class="ttc" id="aclassWorkerPool_html_ab9ca4e7daa41217828be53d64e8d3b11"><div class="ttname"><a href="classWorkerPool.html#ab9ca4e7daa41217828be53d64e8d3b11">WorkerPool::decrease_num_notified_workers</a></div><div class="ttdeci">int decrease_num_notified_workers()</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00111">scheduler.cpp:111</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classInnerWorker.html#a75cd1f64d0abbc2d16bd8cc97664f2d0">InnerWorker::get_task()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a5d5353340c8b72bf630d2cecaeca1638_icgraph.png" border="0" usemap="#aclassInnerScheduler_a5d5353340c8b72bf630d2cecaeca1638_icgraph" alt=""/></div>
<map name="aclassInnerScheduler_a5d5353340c8b72bf630d2cecaeca1638_icgraph" id="aclassInnerScheduler_a5d5353340c8b72bf630d2cecaeca1638_icgraph">
<area shape="rect" title=" " alt="" coords="217,5,404,47"/>
<area shape="rect" href="classInnerWorker.html#a75cd1f64d0abbc2d16bd8cc97664f2d0" title="Get the C++ task instance that this worker thread will execute." alt="" coords="5,13,169,39"/>
</map>
</div>

</div>
</div>
<a id="a2104255a5058ab7b336d816c003d4d24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2104255a5058ab7b336d816c003d4d24">&#9670;&nbsp;</a></span>enqueue_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::enqueue_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInnerTask.html">InnerTask</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classTaskStatusFlags.html">TaskStatusFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00209">209</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                                                         {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">// TODO: Change this to appropriate phase as it becomes implemented</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <a class="code" href="profiling_8hpp.html#a9ebb3c6ae8e23ea2260d5274b3a22a89">LOG_INFO</a>(<a class="code" href="profiling_8hpp.html#a1b3f65587b48bff0583fb85181991b01">SCHEDULER</a>, <span class="stringliteral">&quot;Enqueing task: {}, Status: {}&quot;</span>, <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>, <a class="code" href="classInnerScheduler.html#aacca6b94f018b099863a29d39273bd59">status</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classInnerScheduler.html#aacca6b94f018b099863a29d39273bd59">status</a>.mappable &amp;&amp; (<a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;get_state() &lt; <a class="code" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bceab52c4f09cb5adc3ee840c7ebdc9ea016">TaskState::MAPPED</a>)) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="profiling_8hpp.html#a9ebb3c6ae8e23ea2260d5274b3a22a89">LOG_INFO</a>(<a class="code" href="profiling_8hpp.html#a1b3f65587b48bff0583fb85181991b01">SCHEDULER</a>, <span class="stringliteral">&quot;Enqueing task: {} to mapper&quot;</span>, <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;set_status(<a class="code" href="runtime_8hpp.html#aacda182df7dba8ce63a50654d7232ba8af8239cbda0e24a46c75b84ea7c05f275">TaskStatus::MAPPABLE</a>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    this-&gt;<a class="code" href="classInnerScheduler.html#ae4979faf961d3bed8f0afd2e98e87d99">mapper</a>-&gt;<a class="code" href="classMapper.html#a5899d440fb93667e0cdda5683d98e791">enqueue</a>(task);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classInnerScheduler.html#aacca6b94f018b099863a29d39273bd59">status</a>.reservable &amp;&amp; (<a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;get_state() == <a class="code" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bceab52c4f09cb5adc3ee840c7ebdc9ea016">TaskState::MAPPED</a>)) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;set_status(<a class="code" href="runtime_8hpp.html#aacda182df7dba8ce63a50654d7232ba8afb7f1fb61e055277657c00c178844081">TaskStatus::RESERVABLE</a>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="profiling_8hpp.html#a9ebb3c6ae8e23ea2260d5274b3a22a89">LOG_INFO</a>(<a class="code" href="profiling_8hpp.html#a1b3f65587b48bff0583fb85181991b01">SCHEDULER</a>, <span class="stringliteral">&quot;Enqueing task: {} to memory reserver&quot;</span>, <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    this-&gt;<a class="code" href="classInnerScheduler.html#ae5dc0d58cd89946f73416c3635d35d45">memory_reserver</a>-&gt;<a class="code" href="classMemoryReserver.html#a2127dac8a80858f60a723345a7b7e8bc">enqueue</a>(task);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classInnerScheduler.html#aacca6b94f018b099863a29d39273bd59">status</a>.runnable &amp;&amp; (<a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;get_state() == <a class="code" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bcea83c7f2aa8c3ac10ed8beb75cad162827">TaskState::RESERVED</a>)) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;set_status(<a class="code" href="runtime_8hpp.html#aacda182df7dba8ce63a50654d7232ba8ab887eaf73362255df616aba88fea4c94">TaskStatus::RUNNABLE</a>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">// std::cout &lt;&lt; &quot;ENQUEUE FROM CALLBACK&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="profiling_8hpp.html#a9ebb3c6ae8e23ea2260d5274b3a22a89">LOG_INFO</a>(<a class="code" href="profiling_8hpp.html#a1b3f65587b48bff0583fb85181991b01">SCHEDULER</a>, <span class="stringliteral">&quot;Enqueing task: {} to runtime reserver&quot;</span>, <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    this-&gt;<a class="code" href="classInnerScheduler.html#a84607342ed8e50f0c12322711821c9e4">runtime_reserver</a>-&gt;<a class="code" href="classRuntimeReserver.html#aeab29f38dfdcc8f13fd839bf2629d1f5">enqueue</a>(task);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
<div class="ttc" id="aclassMapper_html_a5899d440fb93667e0cdda5683d98e791"><div class="ttname"><a href="classMapper.html#a5899d440fb93667e0cdda5683d98e791">Mapper::enqueue</a></div><div class="ttdeci">void enqueue(InnerTask *task)</div><div class="ttdoc">Enqueue a task to the phase.</div><div class="ttdef"><b>Definition:</b> <a href="phases_8cpp_source.html#l00016">phases.cpp:16</a></div></div>
<div class="ttc" id="aclassMemoryReserver_html_a2127dac8a80858f60a723345a7b7e8bc"><div class="ttname"><a href="classMemoryReserver.html#a2127dac8a80858f60a723345a7b7e8bc">MemoryReserver::enqueue</a></div><div class="ttdeci">void enqueue(InnerTask *task)</div><div class="ttdoc">Enqueue a task to the phase.</div><div class="ttdef"><b>Definition:</b> <a href="phases_8cpp_source.html#l00136">phases.cpp:136</a></div></div>
<div class="ttc" id="aclassRuntimeReserver_html_aeab29f38dfdcc8f13fd839bf2629d1f5"><div class="ttname"><a href="classRuntimeReserver.html#aeab29f38dfdcc8f13fd839bf2629d1f5">RuntimeReserver::enqueue</a></div><div class="ttdeci">void enqueue(InnerTask *task)</div><div class="ttdoc">Enqueue a task to the phase.</div><div class="ttdef"><b>Definition:</b> <a href="phases_8cpp_source.html#l00302">phases.cpp:302</a></div></div>
<div class="ttc" id="anamespaceparla_1_1cython_1_1core_html_a80c42ae6cf7c7174352631aa0d84cbe0"><div class="ttname"><a href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">parla.cython.core.task</a></div><div class="ttdeci">task</div><div class="ttdef"><b>Definition:</b> <a href="core_8pyx_source.html#l00138">core.pyx:138</a></div></div>
<div class="ttc" id="aruntime_8hpp_html_a724f9ce2351c125b3b7f6c7923822bcea83c7f2aa8c3ac10ed8beb75cad162827"><div class="ttname"><a href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bcea83c7f2aa8c3ac10ed8beb75cad162827">TaskState::RESERVED</a></div><div class="ttdeci">@ RESERVED</div><div class="ttdoc">Task has persistent resources reserved.</div></div>
<div class="ttc" id="aruntime_8hpp_html_a724f9ce2351c125b3b7f6c7923822bceab52c4f09cb5adc3ee840c7ebdc9ea016"><div class="ttname"><a href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bceab52c4f09cb5adc3ee840c7ebdc9ea016">TaskState::MAPPED</a></div><div class="ttdeci">@ MAPPED</div><div class="ttdoc">Task has been mapped.</div></div>
<div class="ttc" id="aruntime_8hpp_html_aacda182df7dba8ce63a50654d7232ba8ab887eaf73362255df616aba88fea4c94"><div class="ttname"><a href="runtime_8hpp.html#aacda182df7dba8ce63a50654d7232ba8ab887eaf73362255df616aba88fea4c94">TaskStatus::RUNNABLE</a></div><div class="ttdeci">@ RUNNABLE</div></div>
<div class="ttc" id="aruntime_8hpp_html_aacda182df7dba8ce63a50654d7232ba8af8239cbda0e24a46c75b84ea7c05f275"><div class="ttname"><a href="runtime_8hpp.html#aacda182df7dba8ce63a50654d7232ba8af8239cbda0e24a46c75b84ea7c05f275">TaskStatus::MAPPABLE</a></div><div class="ttdeci">@ MAPPABLE</div></div>
<div class="ttc" id="aruntime_8hpp_html_aacda182df7dba8ce63a50654d7232ba8afb7f1fb61e055277657c00c178844081"><div class="ttname"><a href="runtime_8hpp.html#aacda182df7dba8ce63a50654d7232ba8afb7f1fb61e055277657c00c178844081">TaskStatus::RESERVABLE</a></div><div class="ttdeci">@ RESERVABLE</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classMapper.html#a5899d440fb93667e0cdda5683d98e791">Mapper::enqueue()</a>, <a class="el" href="classMemoryReserver.html#a2127dac8a80858f60a723345a7b7e8bc">MemoryReserver::enqueue()</a>, <a class="el" href="classRuntimeReserver.html#aeab29f38dfdcc8f13fd839bf2629d1f5">RuntimeReserver::enqueue()</a>, <a class="el" href="classInnerTask.html#aef321b6803fe6a340644f7e9e6b748a5">InnerTask::get_state()</a>, <a class="el" href="classTaskStatusFlags.html#a330c1c2e1acfb14f984f15c5232f3b1f">TaskStatusFlags::mappable</a>, <a class="el" href="runtime_8hpp.html#aacda182df7dba8ce63a50654d7232ba8af8239cbda0e24a46c75b84ea7c05f275">MAPPABLE</a>, <a class="el" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bceab52c4f09cb5adc3ee840c7ebdc9ea016">MAPPED</a>, <a class="el" href="classInnerScheduler.html#ae4979faf961d3bed8f0afd2e98e87d99">mapper</a>, <a class="el" href="classInnerScheduler.html#ae5dc0d58cd89946f73416c3635d35d45">memory_reserver</a>, <a class="el" href="classTaskStatusFlags.html#a315007b8cc411a55d945f5952d637ad9">TaskStatusFlags::reservable</a>, <a class="el" href="runtime_8hpp.html#aacda182df7dba8ce63a50654d7232ba8afb7f1fb61e055277657c00c178844081">RESERVABLE</a>, <a class="el" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bcea83c7f2aa8c3ac10ed8beb75cad162827">RESERVED</a>, <a class="el" href="classTaskStatusFlags.html#a092a87d1885eb9e6e66979a8df568736">TaskStatusFlags::runnable</a>, <a class="el" href="runtime_8hpp.html#aacda182df7dba8ce63a50654d7232ba8ab887eaf73362255df616aba88fea4c94">RUNNABLE</a>, <a class="el" href="classInnerScheduler.html#a84607342ed8e50f0c12322711821c9e4">runtime_reserver</a>, and <a class="el" href="classInnerTask.html#a16d4159ff5905ed8e771fb69d84b1ca4">InnerTask::set_status()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#a52bc4a779f9471411c6b0e2f8d720d61">spawn_task()</a>, and <a class="el" href="classInnerScheduler.html#ae168936fb94b2602cb78867209b12cad">task_cleanup_postsync()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a2104255a5058ab7b336d816c003d4d24_cgraph.png" border="0" usemap="#aclassInnerScheduler_a2104255a5058ab7b336d816c003d4d24_cgraph" alt=""/></div>
<map name="aclassInnerScheduler_a2104255a5058ab7b336d816c003d4d24_cgraph" id="aclassInnerScheduler_a2104255a5058ab7b336d816c003d4d24_cgraph">
<area shape="rect" title=" " alt="" coords="5,107,224,133"/>
<area shape="rect" href="classMapper.html#a5899d440fb93667e0cdda5683d98e791" title="Enqueue a task to the phase." alt="" coords="304,5,439,32"/>
<area shape="rect" href="classMemoryReserver.html#a2127dac8a80858f60a723345a7b7e8bc" title="Enqueue a task to the phase." alt="" coords="272,56,471,83"/>
<area shape="rect" href="classRuntimeReserver.html#aeab29f38dfdcc8f13fd839bf2629d1f5" title="Enqueue a task to the phase." alt="" coords="272,107,471,133"/>
<area shape="rect" href="classInnerTask.html#aef321b6803fe6a340644f7e9e6b748a5" title=" " alt="" coords="295,157,448,184"/>
<area shape="rect" href="classInnerTask.html#a16d4159ff5905ed8e771fb69d84b1ca4" title=" " alt="" coords="292,208,451,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a2104255a5058ab7b336d816c003d4d24_icgraph.png" border="0" usemap="#aclassInnerScheduler_a2104255a5058ab7b336d816c003d4d24_icgraph" alt=""/></div>
<map name="aclassInnerScheduler_a2104255a5058ab7b336d816c003d4d24_icgraph" id="aclassInnerScheduler_a2104255a5058ab7b336d816c003d4d24_icgraph">
<area shape="rect" title=" " alt="" coords="460,35,679,61"/>
<area shape="rect" href="classInnerScheduler.html#a52bc4a779f9471411c6b0e2f8d720d61" title=" " alt="" coords="208,5,412,32"/>
<area shape="rect" href="classInnerScheduler.html#ae168936fb94b2602cb78867209b12cad" title=" " alt="" coords="233,57,387,98"/>
<area shape="rect" href="classInnerScheduler.html#a379b814bdf9d16a3954036f2f63d3c1a" title=" " alt="" coords="5,57,160,98"/>
</map>
</div>

</div>
</div>
<a id="aac1035ac8fd1f43b241db61637fce76a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac1035ac8fd1f43b241db61637fce76a">&#9670;&nbsp;</a></span>enqueue_tasks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::enqueue_tasks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="runtime_8hpp.html#a590856e426f16e0d758fdaeeb59507d6">TaskStatusList</a> &amp;&#160;</td>
          <td class="paramname"><em>tasks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00228">228</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                                                        {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">// LOG_INFO(SCHEDULER, &quot;Enqueing tasks: {}&quot;, tasks);</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="runtime_8hpp.html#a9b1337b5483a4c0d2f4b7d42d680bbac">TaskStatusPair</a> task_status : <a class="code" href="namespaceparla_1_1cython_1_1tasks.html#ad0d88a7d8f89ecf110a042149d853fb4">tasks</a>) {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    this-&gt;<a class="code" href="classInnerScheduler.html#a2104255a5058ab7b336d816c003d4d24">enqueue_task</a>(task_status.first, task_status.second);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div>
<div class="ttc" id="aclassInnerScheduler_html_a2104255a5058ab7b336d816c003d4d24"><div class="ttname"><a href="classInnerScheduler.html#a2104255a5058ab7b336d816c003d4d24">InnerScheduler::enqueue_task</a></div><div class="ttdeci">void enqueue_task(InnerTask *task, TaskStatusFlags flags)</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00209">scheduler.cpp:209</a></div></div>
<div class="ttc" id="anamespaceparla_1_1cython_1_1tasks_html_ad0d88a7d8f89ecf110a042149d853fb4"><div class="ttname"><a href="namespaceparla_1_1cython_1_1tasks.html#ad0d88a7d8f89ecf110a042149d853fb4">parla.cython.tasks.tasks</a></div><div class="ttdeci">tasks</div><div class="ttdef"><b>Definition:</b> <a href="tasks_8pyx_source.html#l01368">tasks.pyx:1368</a></div></div>
<div class="ttc" id="aruntime_8hpp_html_a9b1337b5483a4c0d2f4b7d42d680bbac"><div class="ttname"><a href="runtime_8hpp.html#a9b1337b5483a4c0d2f4b7d42d680bbac">TaskStatusPair</a></div><div class="ttdeci">std::pair&lt; InnerTask *, TaskStatusFlags &gt; TaskStatusPair</div><div class="ttdoc">A pair of a task and its status information.</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l00193">runtime.hpp:193</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8b2df21cffbb84f5a19831563c81ac19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b2df21cffbb84f5a19831563c81ac19">&#9670;&nbsp;</a></span>enqueue_worker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::enqueue_worker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInnerWorker.html">InnerWorker</a> *&#160;</td>
          <td class="paramname"><em>worker</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00240">240</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                                       {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <a class="code" href="profiling_8hpp.html#a9ebb3c6ae8e23ea2260d5274b3a22a89">LOG_INFO</a>(<a class="code" href="profiling_8hpp.html#a1b3f65587b48bff0583fb85181991b01">SCHEDULER</a>, <span class="stringliteral">&quot;Enqueuing worker: {} is ready.&quot;</span>, <a class="code" href="namespaceparla_1_1cython_1_1core.html#a8368535304ebfdbd53c01c50f851dbc6">worker</a>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#acdcdea945f320f24fad6ad5215639383">workers</a>.<a class="code" href="classWorkerPool.html#accbd67d477b7b878ae07ef057f306f3a">enqueue_worker</a>(worker);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="ttc" id="aclassWorkerPool_html_accbd67d477b7b878ae07ef057f306f3a"><div class="ttname"><a href="classWorkerPool.html#accbd67d477b7b878ae07ef057f306f3a">WorkerPool::enqueue_worker</a></div><div class="ttdeci">void enqueue_worker(InnerWorker *worker)</div><div class="ttdoc">add a worker to the active pool</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00064">scheduler.cpp:64</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#ae168936fb94b2602cb78867209b12cad">task_cleanup_postsync()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a8b2df21cffbb84f5a19831563c81ac19_icgraph.png" border="0" usemap="#aclassInnerScheduler_a8b2df21cffbb84f5a19831563c81ac19_icgraph" alt=""/></div>
<map name="aclassInnerScheduler_a8b2df21cffbb84f5a19831563c81ac19_icgraph" id="aclassInnerScheduler_a8b2df21cffbb84f5a19831563c81ac19_icgraph">
<area shape="rect" title=" " alt="" coords="411,5,593,47"/>
<area shape="rect" href="classInnerScheduler.html#ae168936fb94b2602cb78867209b12cad" title=" " alt="" coords="208,5,363,47"/>
<area shape="rect" href="classInnerScheduler.html#a379b814bdf9d16a3954036f2f63d3c1a" title=" " alt="" coords="5,5,160,47"/>
</map>
</div>

</div>
</div>
<a id="ad2fa4cc6ee8b95e4b25e67d0ca6991bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2fa4cc6ee8b95e4b25e67d0ca6991bb">&#9670;&nbsp;</a></span>get_device_manager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDeviceManager.html">DeviceManager</a>* InnerScheduler::get_device_manager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l01111">1111</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;{ <span class="keywordflow">return</span> this-&gt;<a class="code" href="classInnerScheduler.html#abf4ca3eda40c00a551af743d170a705a">device_manager_</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classInnerScheduler.html#abf4ca3eda40c00a551af743d170a705a">device_manager_</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerTask.html#a6b1dd2496910ad8342e5ed7758579ccf">InnerTask::set_scheduler()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_ad2fa4cc6ee8b95e4b25e67d0ca6991bb_icgraph.png" border="0" usemap="#aclassInnerScheduler_ad2fa4cc6ee8b95e4b25e67d0ca6991bb_icgraph" alt=""/></div>
<map name="aclassInnerScheduler_ad2fa4cc6ee8b95e4b25e67d0ca6991bb_icgraph" id="aclassInnerScheduler_ad2fa4cc6ee8b95e4b25e67d0ca6991bb_icgraph">
<area shape="rect" title=" " alt="" coords="236,5,384,47"/>
<area shape="rect" href="classInnerTask.html#a6b1dd2496910ad8342e5ed7758579ccf" title=" " alt="" coords="5,13,188,39"/>
</map>
</div>

</div>
</div>
<a id="a8385987e55a1ba90f988f4781ee91ccc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8385987e55a1ba90f988f4781ee91ccc">&#9670;&nbsp;</a></span>get_num_active_tasks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int InnerScheduler::get_num_active_tasks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00331">331</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;{ <span class="keywordflow">return</span> this-&gt;<a class="code" href="classInnerScheduler.html#a5a7e270f0eafee1407caf9418f8dc8fa">num_active_tasks</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9c9622a83be436dc187d3c1ba8486816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c9622a83be436dc187d3c1ba8486816">&#9670;&nbsp;</a></span>get_num_notified_workers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int InnerScheduler::get_num_notified_workers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l01081">1081</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                                 {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classInnerScheduler.html#acdcdea945f320f24fad6ad5215639383">workers</a>.<a class="code" href="classWorkerPool.html#a01d861ad2e3a0592c92962f063bde224">get_num_notified_workers</a>();</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  }</div>
<div class="ttc" id="aclassWorkerPool_html_a01d861ad2e3a0592c92962f063bde224"><div class="ttname"><a href="classWorkerPool.html#a01d861ad2e3a0592c92962f063bde224">WorkerPool::get_num_notified_workers</a></div><div class="ttdeci">int get_num_notified_workers()</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l00896">runtime.hpp:896</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e609c2ae554c0a849d65378706c2c63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e609c2ae554c0a849d65378706c2c63">&#9670;&nbsp;</a></span>get_num_ready_tasks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int InnerScheduler::get_num_ready_tasks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00361">361</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                                        {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classInnerScheduler.html#a84607342ed8e50f0c12322711821c9e4">runtime_reserver</a>-&gt;<a class="code" href="classRuntimeReserver.html#a23475509344951f743f48f6239eda1bf">get_count</a>();</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div>
<div class="ttc" id="aclassRuntimeReserver_html_a23475509344951f743f48f6239eda1bf"><div class="ttname"><a href="classRuntimeReserver.html#a23475509344951f743f48f6239eda1bf">RuntimeReserver::get_count</a></div><div class="ttdeci">size_t get_count()</div><div class="ttdoc">Get the number of tasks enqueued (and waiting) in the phase.</div><div class="ttdef"><b>Definition:</b> <a href="phases_8cpp_source.html#l00329">phases.cpp:329</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classRuntimeReserver.html#a23475509344951f743f48f6239eda1bf">RuntimeReserver::get_count()</a>, and <a class="el" href="classInnerScheduler.html#a84607342ed8e50f0c12322711821c9e4">runtime_reserver</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a9e609c2ae554c0a849d65378706c2c63_cgraph.png" border="0" usemap="#aclassInnerScheduler_a9e609c2ae554c0a849d65378706c2c63_cgraph" alt=""/></div>
<map name="aclassInnerScheduler_a9e609c2ae554c0a849d65378706c2c63_cgraph" id="aclassInnerScheduler_a9e609c2ae554c0a849d65378706c2c63_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,153,47"/>
<area shape="rect" href="classRuntimeReserver.html#a23475509344951f743f48f6239eda1bf" title="Get the number of tasks enqueued (and waiting) in the phase." alt="" coords="201,5,365,47"/>
</map>
</div>

</div>
</div>
<a id="a84bbaab0860c65871516a5da1bd69304"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84bbaab0860c65871516a5da1bd69304">&#9670;&nbsp;</a></span>get_num_running_tasks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int InnerScheduler::get_num_running_tasks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00357">357</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                          {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classInnerScheduler.html#a2226b978da426cacf0175c288244dee1">launcher</a>-&gt;<a class="code" href="classLauncher.html#a4735556d50f5c29ca5a503f1318b438c">get_count</a>();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
<div class="ttc" id="aclassLauncher_html_a4735556d50f5c29ca5a503f1318b438c"><div class="ttname"><a href="classLauncher.html#a4735556d50f5c29ca5a503f1318b438c">Launcher::get_count</a></div><div class="ttdeci">size_t get_count()</div><div class="ttdoc">Number of running tasks.</div><div class="ttdef"><b>Definition:</b> <a href="phases_8hpp_source.html#l00377">phases.hpp:377</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classLauncher.html#a4735556d50f5c29ca5a503f1318b438c">Launcher::get_count()</a>, and <a class="el" href="classInnerScheduler.html#a2226b978da426cacf0175c288244dee1">launcher</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a84bbaab0860c65871516a5da1bd69304_cgraph.png" border="0" usemap="#aclassInnerScheduler_a84bbaab0860c65871516a5da1bd69304_cgraph" alt=""/></div>
<map name="aclassInnerScheduler_a84bbaab0860c65871516a5da1bd69304_cgraph" id="aclassInnerScheduler_a84bbaab0860c65871516a5da1bd69304_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,161,47"/>
<area shape="rect" href="classLauncher.html#a4735556d50f5c29ca5a503f1318b438c" title="Number of running tasks." alt="" coords="209,13,363,39"/>
</map>
</div>

</div>
</div>
<a id="a24ba2b6e8ab88ab86cfd0bcb42e0de5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24ba2b6e8ab88ab86cfd0bcb42e0de5a">&#9670;&nbsp;</a></span>get_parray_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool InnerScheduler::get_parray_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="device_8hpp.html#a1a60ef2726088f66773542604d44bdd7">DevID_t</a>&#160;</td>
          <td class="paramname"><em>global_dev_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>parray_parent_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l01102">1102</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                                                                           {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classInnerScheduler.html#ae42bb74656d12dbc2a773bda4e53b9f0">parray_tracker_</a>.<a class="code" href="classPArrayTracker.html#af30dd11bb2cd542a82916aab560e1840">get_parray_state</a>(global_dev_idx,</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                                                  parray_parent_id);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  }</div>
<div class="ttc" id="aclassPArrayTracker_html_af30dd11bb2cd542a82916aab560e1840"><div class="ttname"><a href="classPArrayTracker.html#af30dd11bb2cd542a82916aab560e1840">PArrayTracker::get_parray_state</a></div><div class="ttdeci">bool get_parray_state(DevID_t global_dev_idx, uint64_t parray_parent_id)</div><div class="ttdef"><b>Definition:</b> <a href="parray__tracker_8hpp_source.html#l00048">parray_tracker.hpp:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aacaabfd3ed87c7f92225e9561046d437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacaabfd3ed87c7f92225e9561046d437">&#9670;&nbsp;</a></span>get_parray_tracker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPArrayTracker.html">PArrayTracker</a>* InnerScheduler::get_parray_tracker </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l01086">1086</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;{ <span class="keywordflow">return</span> &amp;(this-&gt;<a class="code" href="classInnerScheduler.html#ae42bb74656d12dbc2a773bda4e53b9f0">parray_tracker_</a>); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7dc689561b6acadbb9393ae92a3f3d0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dc689561b6acadbb9393ae92a3f3d0f">&#9670;&nbsp;</a></span>increase_num_active_tasks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::increase_num_active_tasks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00333">333</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                                               {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordtype">int</span> count = this-&gt;<a class="code" href="classInnerScheduler.html#a5a7e270f0eafee1407caf9418f8dc8fa">num_active_tasks</a>.fetch_add(1);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">// std::cout &lt;&lt; &quot;Increasing num active tasks: &quot; &lt;&lt; count + 1 &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#a52bc4a779f9471411c6b0e2f8d720d61">spawn_task()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a7dc689561b6acadbb9393ae92a3f3d0f_icgraph.png" border="0" usemap="#aclassInnerScheduler_a7dc689561b6acadbb9393ae92a3f3d0f_icgraph" alt=""/></div>
<map name="aclassInnerScheduler_a7dc689561b6acadbb9393ae92a3f3d0f_icgraph" id="aclassInnerScheduler_a7dc689561b6acadbb9393ae92a3f3d0f_icgraph">
<area shape="rect" title=" " alt="" coords="257,5,440,47"/>
<area shape="rect" href="classInnerScheduler.html#a52bc4a779f9471411c6b0e2f8d720d61" title=" " alt="" coords="5,13,209,39"/>
</map>
</div>

</div>
</div>
<a id="a50bff0e55ab7dc8beb2a4851be3f2895"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50bff0e55ab7dc8beb2a4851be3f2895">&#9670;&nbsp;</a></span>increase_num_notified_workers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int InnerScheduler::increase_num_notified_workers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00349">349</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                                                  {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classInnerScheduler.html#acdcdea945f320f24fad6ad5215639383">workers</a>.<a class="code" href="classWorkerPool.html#afd0d338bf8b8d221ca08c769098095c8">increase_num_notified_workers</a>();</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;}</div>
<div class="ttc" id="aclassWorkerPool_html_afd0d338bf8b8d221ca08c769098095c8"><div class="ttname"><a href="classWorkerPool.html#afd0d338bf8b8d221ca08c769098095c8">WorkerPool::increase_num_notified_workers</a></div><div class="ttdeci">int increase_num_notified_workers()</div><div class="ttdoc">increase number of notified workers</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00105">scheduler.cpp:105</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classInnerWorker.html#afa8e91ab9d84a155fd975d2f0ab5e664">InnerWorker::wait()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a50bff0e55ab7dc8beb2a4851be3f2895_icgraph.png" border="0" usemap="#aclassInnerScheduler_a50bff0e55ab7dc8beb2a4851be3f2895_icgraph" alt=""/></div>
<map name="aclassInnerScheduler_a50bff0e55ab7dc8beb2a4851be3f2895_icgraph" id="aclassInnerScheduler_a50bff0e55ab7dc8beb2a4851be3f2895_icgraph">
<area shape="rect" title=" " alt="" coords="189,5,372,47"/>
<area shape="rect" href="classInnerWorker.html#afa8e91ab9d84a155fd975d2f0ab5e664" title="wait for a task to be assigned" alt="" coords="5,13,141,39"/>
</map>
</div>

</div>
</div>
<a id="a41dcc9c04487a8c9f3d52a0f1e72b513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41dcc9c04487a8c9f3d52a0f1e72b513">&#9670;&nbsp;</a></span>release_parray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::release_parray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classparray_1_1InnerPArray.html">parray::InnerPArray</a> *&#160;</td>
          <td class="paramname"><em>parray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="device_8hpp.html#a1a60ef2726088f66773542604d44bdd7">DevID_t</a>&#160;</td>
          <td class="paramname"><em>global_dev_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l01096">1096</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                                                                        {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <a class="code" href="classDevice.html">Device</a> *device =</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        this-&gt;<a class="code" href="classInnerScheduler.html#abf4ca3eda40c00a551af743d170a705a">device_manager_</a>-&gt;<a class="code" href="classDeviceManager.html#a9dc0e5210cf1ff42a94c132d9e155f95">get_device_by_global_id</a>(global_dev_id);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    this-&gt;<a class="code" href="classInnerScheduler.html#ae42bb74656d12dbc2a773bda4e53b9f0">parray_tracker_</a>.<a class="code" href="classPArrayTracker.html#a2b40aadf78c88fac068b5fe500665539">release_parray</a>(*parray, device);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  }</div>
<div class="ttc" id="aclassDeviceManager_html_a9dc0e5210cf1ff42a94c132d9e155f95"><div class="ttname"><a href="classDeviceManager.html#a9dc0e5210cf1ff42a94c132d9e155f95">DeviceManager::get_device_by_global_id</a></div><div class="ttdeci">Device * get_device_by_global_id(DevID_t global_dev_id) const</div><div class="ttdef"><b>Definition:</b> <a href="device__manager_8hpp_source.html#l00082">device_manager.hpp:82</a></div></div>
<div class="ttc" id="aclassDevice_html"><div class="ttname"><a href="classDevice.html">Device</a></div><div class="ttdoc">Devices can be distinguished from other devices by a class type and its index.</div><div class="ttdef"><b>Definition:</b> <a href="device_8hpp_source.html#l00037">device.hpp:37</a></div></div>
<div class="ttc" id="aclassPArrayTracker_html_a2b40aadf78c88fac068b5fe500665539"><div class="ttname"><a href="classPArrayTracker.html#a2b40aadf78c88fac068b5fe500665539">PArrayTracker::release_parray</a></div><div class="ttdeci">void release_parray(const InnerPArray &amp;parray, Device *device)</div><div class="ttdoc">Release a PArray from a specified device.</div><div class="ttdef"><b>Definition:</b> <a href="parray__tracker_8cpp_source.html#l00050">parray_tracker.cpp:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad46b9406a41038712d053030b1c31c58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad46b9406a41038712d053030b1c31c58">&#9670;&nbsp;</a></span>reserve_parray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::reserve_parray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classparray_1_1InnerPArray.html">parray::InnerPArray</a> *&#160;</td>
          <td class="paramname"><em>parray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="device_8hpp.html#a1a60ef2726088f66773542604d44bdd7">DevID_t</a>&#160;</td>
          <td class="paramname"><em>global_dev_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l01089">1089</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                                                                        {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <a class="code" href="classDevice.html">Device</a> *device =</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        this-&gt;<a class="code" href="classInnerScheduler.html#abf4ca3eda40c00a551af743d170a705a">device_manager_</a>-&gt;<a class="code" href="classDeviceManager.html#a9dc0e5210cf1ff42a94c132d9e155f95">get_device_by_global_id</a>(global_dev_id);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    this-&gt;<a class="code" href="classInnerScheduler.html#ae42bb74656d12dbc2a773bda4e53b9f0">parray_tracker_</a>.<a class="code" href="classPArrayTracker.html#a59b544edce17171c9731c950c603af85">reserve_parray</a>(*parray, device);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  }</div>
<div class="ttc" id="aclassPArrayTracker_html_a59b544edce17171c9731c950c603af85"><div class="ttname"><a href="classPArrayTracker.html#a59b544edce17171c9731c950c603af85">PArrayTracker::reserve_parray</a></div><div class="ttdeci">void reserve_parray(const InnerPArray &amp;parray, Device *device)</div><div class="ttdoc">Reserve PArray usage in a specified device.</div><div class="ttdef"><b>Definition:</b> <a href="parray__tracker_8cpp_source.html#l00023">parray_tracker.cpp:23</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a19f4d7b87785bdfcd5158e1ffd7c2e0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19f4d7b87785bdfcd5158e1ffd7c2e0a">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00168">168</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                         {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <a class="code" href="profiling_8hpp.html#a4ed1a04fa9103ac0c29157e53ed53e66">NVTX_RANGE</a>(<span class="stringliteral">&quot;Scheduler::run&quot;</span>, <a class="code" href="profiling_8hpp.html#af6e319f2ed137e1d61b66eacc5518035">NVTX_COLOR_RED</a>)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> iteration_count = 0;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">while</span> (this-&gt;<a class="code" href="classInnerScheduler.html#a41d128151484454a8bce5473997ac423">should_run</a>.load()) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keyword">auto</span> <a class="code" href="classInnerScheduler.html#aacca6b94f018b099863a29d39273bd59">status</a> = this-&gt;<a class="code" href="classInnerScheduler.html#a17f38e7632a5733f36da2834ef20c99e">activate</a>();</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classInnerScheduler.html#ad2a2a9db8e368e5295285615c1f41a8e">sleep_flag</a>) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      std::this_thread::sleep_for(std::chrono::milliseconds(this-&gt;<a class="code" href="classInnerScheduler.html#af4243a64176366bda8a6f71f94af6412">sleep_time</a>));</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="ttc" id="aclassInnerScheduler_html_a41d128151484454a8bce5473997ac423"><div class="ttname"><a href="classInnerScheduler.html#a41d128151484454a8bce5473997ac423">InnerScheduler::should_run</a></div><div class="ttdeci">std::atomic&lt; bool &gt; should_run</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l00987">runtime.hpp:987</a></div></div>
<div class="ttc" id="aclassInnerScheduler_html_ad2a2a9db8e368e5295285615c1f41a8e"><div class="ttname"><a href="classInnerScheduler.html#ad2a2a9db8e368e5295285615c1f41a8e">InnerScheduler::sleep_flag</a></div><div class="ttdeci">bool sleep_flag</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l00972">runtime.hpp:972</a></div></div>
<div class="ttc" id="aclassInnerScheduler_html_af4243a64176366bda8a6f71f94af6412"><div class="ttname"><a href="classInnerScheduler.html#af4243a64176366bda8a6f71f94af6412">InnerScheduler::sleep_time</a></div><div class="ttdeci">int sleep_time</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l00975">runtime.hpp:975</a></div></div>
<div class="ttc" id="aprofiling_8hpp_html_a4ed1a04fa9103ac0c29157e53ed53e66"><div class="ttname"><a href="profiling_8hpp.html#a4ed1a04fa9103ac0c29157e53ed53e66">NVTX_RANGE</a></div><div class="ttdeci">#define NVTX_RANGE(name, color)</div><div class="ttdef"><b>Definition:</b> <a href="profiling_8hpp_source.html#l00044">profiling.hpp:44</a></div></div>
<div class="ttc" id="aprofiling_8hpp_html_af6e319f2ed137e1d61b66eacc5518035"><div class="ttname"><a href="profiling_8hpp.html#af6e319f2ed137e1d61b66eacc5518035">NVTX_COLOR_RED</a></div><div class="ttdeci">#define NVTX_COLOR_RED</div><div class="ttdef"><b>Definition:</b> <a href="profiling_8hpp_source.html#l00048">profiling.hpp:48</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classInnerScheduler.html#a17f38e7632a5733f36da2834ef20c99e">activate()</a>, and <a class="el" href="classInnerScheduler.html#ad2a2a9db8e368e5295285615c1f41a8e">sleep_flag</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a19f4d7b87785bdfcd5158e1ffd7c2e0a_cgraph.png" border="0" usemap="#aclassInnerScheduler_a19f4d7b87785bdfcd5158e1ffd7c2e0a_cgraph" alt=""/></div>
<map name="aclassInnerScheduler_a19f4d7b87785bdfcd5158e1ffd7c2e0a_cgraph" id="aclassInnerScheduler_a19f4d7b87785bdfcd5158e1ffd7c2e0a_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,153,83"/>
<area shape="rect" href="classInnerScheduler.html#a17f38e7632a5733f36da2834ef20c99e" title=" " alt="" coords="201,56,381,83"/>
<area shape="rect" href="classMapper.html#aac615e8b8eca887e3d788db09d2d989d" title="Run the phase. Check tasks in the enqueued buffer, check phase condition, and move tasks to the next ..." alt="" coords="461,5,561,32"/>
<area shape="rect" href="classMemoryReserver.html#a03b6be802b5d6d19761773fa7a1df866" title="Run the phase. Check tasks in the enqueued buffer, check phase condition, and move tasks to the next ..." alt="" coords="430,56,593,83"/>
<area shape="rect" href="classRuntimeReserver.html#aaa9106861bccbc209f7f1fa81defdfd9" title="Run the phase. Check tasks in the enqueued buffer, check phase condition, and move tasks to the next ..." alt="" coords="429,107,593,133"/>
</map>
</div>

</div>
</div>
<a id="a6cec502394122abe55658243c02ff3dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cec502394122abe55658243c02ff3dc">&#9670;&nbsp;</a></span>set_num_workers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::set_num_workers </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nworkers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00156">156</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                                 {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#acdcdea945f320f24fad6ad5215639383">workers</a>.<a class="code" href="classWorkerPool.html#aac07a5bca0f916792c20f58e2b121a7e">set_num_workers</a>(nworkers);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5b7ad179cc600d36065f07db3873ecc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5b7ad179cc600d36065f07db3873ecc">&#9670;&nbsp;</a></span>set_py_scheduler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::set_py_scheduler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>py_scheduler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00160">160</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                                                        {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#aacefdd230a7424b23bb4177fff5ec8fa">py_scheduler</a> = <a class="code" href="classInnerScheduler.html#aacefdd230a7424b23bb4177fff5ec8fa">py_scheduler</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div>
<div class="ttc" id="aclassInnerScheduler_html_aacefdd230a7424b23bb4177fff5ec8fa"><div class="ttname"><a href="classInnerScheduler.html#aacefdd230a7424b23bb4177fff5ec8fa">InnerScheduler::py_scheduler</a></div><div class="ttdeci">void * py_scheduler</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l01007">runtime.hpp:1007</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classInnerScheduler.html#aacefdd230a7424b23bb4177fff5ec8fa">py_scheduler</a>.</p>

</div>
</div>
<a id="a1bdbcf712028d0b3e7f9cb92c7635764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bdbcf712028d0b3e7f9cb92c7635764">&#9670;&nbsp;</a></span>set_stop_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::set_stop_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="runtime_8hpp.html#abd5c6c520d3421f2e921502f9cb2492c">stopfunc_t</a>&#160;</td>
          <td class="paramname"><em>stop_callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00164">164</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                                               {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#a7cb352ac732c46546bd203798dcaf822">stop_callback</a> = <a class="code" href="classInnerScheduler.html#a7cb352ac732c46546bd203798dcaf822">stop_callback</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="ttc" id="aclassInnerScheduler_html_a7cb352ac732c46546bd203798dcaf822"><div class="ttname"><a href="classInnerScheduler.html#a7cb352ac732c46546bd203798dcaf822">InnerScheduler::stop_callback</a></div><div class="ttdeci">stopfunc_t stop_callback</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l01004">runtime.hpp:1004</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classInnerScheduler.html#a7cb352ac732c46546bd203798dcaf822">stop_callback</a>.</p>

</div>
</div>
<a id="a52bc4a779f9471411c6b0e2f8d720d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52bc4a779f9471411c6b0e2f8d720d61">&#9670;&nbsp;</a></span>spawn_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::spawn_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInnerTask.html">InnerTask</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00199">199</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                               {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="profiling_8hpp.html#a9ebb3c6ae8e23ea2260d5274b3a22a89">LOG_INFO</a>(<a class="code" href="profiling_8hpp.html#a1b3f65587b48bff0583fb85181991b01">SCHEDULER</a>, <span class="stringliteral">&quot;Spawning task: {}&quot;</span>, <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <a class="code" href="profiling_8hpp.html#a4ed1a04fa9103ac0c29157e53ed53e66">NVTX_RANGE</a>(<span class="stringliteral">&quot;Scheduler::spawn_task&quot;</span>, <a class="code" href="profiling_8hpp.html#af6e319f2ed137e1d61b66eacc5518035">NVTX_COLOR_RED</a>)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keyword">auto</span> <a class="code" href="classInnerScheduler.html#aacca6b94f018b099863a29d39273bd59">status</a> = <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;process_dependencies();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#a7dc689561b6acadbb9393ae92a3f3d0f">increase_num_active_tasks</a>();</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  task-&gt;<a class="code" href="classInnerTask.html#a4886533d4e5d2c0c9f36283c440c6da1">set_state</a>(<a class="code" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bceab209a200f960648aa69d26a909752826">TaskState::SPAWNED</a>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#a2104255a5058ab7b336d816c003d4d24">enqueue_task</a>(task, <a class="code" href="classInnerScheduler.html#aacca6b94f018b099863a29d39273bd59">status</a>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div>
<div class="ttc" id="aclassInnerScheduler_html_a7dc689561b6acadbb9393ae92a3f3d0f"><div class="ttname"><a href="classInnerScheduler.html#a7dc689561b6acadbb9393ae92a3f3d0f">InnerScheduler::increase_num_active_tasks</a></div><div class="ttdeci">void increase_num_active_tasks()</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00333">scheduler.cpp:333</a></div></div>
<div class="ttc" id="aclassInnerTask_html_a4886533d4e5d2c0c9f36283c440c6da1"><div class="ttname"><a href="classInnerTask.html#a4886533d4e5d2c0c9f36283c440c6da1">InnerTask::set_state</a></div><div class="ttdeci">int set_state(int state)</div><div class="ttdef"><b>Definition:</b> <a href="task_8cpp_source.html#l00362">task.cpp:362</a></div></div>
<div class="ttc" id="aruntime_8hpp_html_a724f9ce2351c125b3b7f6c7923822bceab209a200f960648aa69d26a909752826"><div class="ttname"><a href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bceab209a200f960648aa69d26a909752826">TaskState::SPAWNED</a></div><div class="ttdeci">@ SPAWNED</div><div class="ttdoc">Task has been spawned.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classInnerScheduler.html#a2104255a5058ab7b336d816c003d4d24">enqueue_task()</a>, <a class="el" href="classInnerScheduler.html#a7dc689561b6acadbb9393ae92a3f3d0f">increase_num_active_tasks()</a>, <a class="el" href="classInnerTask.html#a846cbeb1a1fb4135e5ab63ca59953d78">InnerTask::process_dependencies()</a>, <a class="el" href="classInnerTask.html#a7c14f947c0bc4b09ea7c70ac99c68336">InnerTask::set_state()</a>, and <a class="el" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bceab209a200f960648aa69d26a909752826">SPAWNED</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a52bc4a779f9471411c6b0e2f8d720d61_cgraph.png" border="0" usemap="#aclassInnerScheduler_a52bc4a779f9471411c6b0e2f8d720d61_cgraph" alt=""/></div>
<map name="aclassInnerScheduler_a52bc4a779f9471411c6b0e2f8d720d61_cgraph" id="aclassInnerScheduler_a52bc4a779f9471411c6b0e2f8d720d61_cgraph">
<area shape="rect" title=" " alt="" coords="5,199,209,225"/>
<area shape="rect" href="classInnerScheduler.html#a2104255a5058ab7b336d816c003d4d24" title=" " alt="" coords="257,107,476,133"/>
<area shape="rect" href="classInnerScheduler.html#a7dc689561b6acadbb9393ae92a3f3d0f" title=" " alt="" coords="275,158,458,199"/>
<area shape="rect" href="classInnerTask.html#a846cbeb1a1fb4135e5ab63ca59953d78" title=" " alt="" coords="295,223,438,265"/>
<area shape="rect" href="classInnerTask.html#a7c14f947c0bc4b09ea7c70ac99c68336" title=" " alt="" coords="291,289,443,316"/>
<area shape="rect" href="classMapper.html#a5899d440fb93667e0cdda5683d98e791" title="Enqueue a task to the phase." alt="" coords="556,5,691,32"/>
<area shape="rect" href="classMemoryReserver.html#a2127dac8a80858f60a723345a7b7e8bc" title="Enqueue a task to the phase." alt="" coords="524,56,723,83"/>
<area shape="rect" href="classRuntimeReserver.html#aeab29f38dfdcc8f13fd839bf2629d1f5" title="Enqueue a task to the phase." alt="" coords="524,107,723,133"/>
<area shape="rect" href="classInnerTask.html#aef321b6803fe6a340644f7e9e6b748a5" title=" " alt="" coords="547,157,700,184"/>
<area shape="rect" href="classInnerTask.html#a16d4159ff5905ed8e771fb69d84b1ca4" title=" " alt="" coords="544,208,703,235"/>
</map>
</div>

</div>
</div>
<a id="a39dc45323a26436554dd2c2854f658f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39dc45323a26436554dd2c2854f658f7">&#9670;&nbsp;</a></span>spawn_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::spawn_wait </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00365">365</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;{ this-&gt;<a class="code" href="classInnerScheduler.html#acdcdea945f320f24fad6ad5215639383">workers</a>.<a class="code" href="classWorkerPool.html#a997968d016085dfa9b011409c01be22a">spawn_wait</a>(); }</div>
<div class="ttc" id="aclassWorkerPool_html_a997968d016085dfa9b011409c01be22a"><div class="ttname"><a href="classWorkerPool.html#a997968d016085dfa9b011409c01be22a">WorkerPool::spawn_wait</a></div><div class="ttdeci">void spawn_wait()</div><div class="ttdoc">barrier to block additional for spawns so that other waiting workers threads can take the GIL*/</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00117">scheduler.cpp:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3af3b46d1f72a9789f2f085f878e0cca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3af3b46d1f72a9789f2f085f878e0cca">&#9670;&nbsp;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00179">179</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                          {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <a class="code" href="profiling_8hpp.html#a9ebb3c6ae8e23ea2260d5274b3a22a89">LOG_INFO</a>(<a class="code" href="profiling_8hpp.html#a1b3f65587b48bff0583fb85181991b01">SCHEDULER</a>, <span class="stringliteral">&quot;Stopping scheduler&quot;</span>);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#a41d128151484454a8bce5473997ac423">should_run</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="runtime_8hpp.html#a8beb32839b6aa57c6e1e6de62b6056a6">launch_stop_callback</a>(this-&gt;<a class="code" href="classInnerScheduler.html#a7cb352ac732c46546bd203798dcaf822">stop_callback</a>, this-&gt;<a class="code" href="classInnerScheduler.html#aacefdd230a7424b23bb4177fff5ec8fa">py_scheduler</a>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <a class="code" href="profiling_8hpp.html#a9ebb3c6ae8e23ea2260d5274b3a22a89">LOG_INFO</a>(<a class="code" href="profiling_8hpp.html#a1b3f65587b48bff0583fb85181991b01">SCHEDULER</a>, <span class="stringliteral">&quot;Stopped scheduler&quot;</span>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div>
<div class="ttc" id="aruntime_8hpp_html_a8beb32839b6aa57c6e1e6de62b6056a6"><div class="ttname"><a href="runtime_8hpp.html#a8beb32839b6aa57c6e1e6de62b6056a6">launch_stop_callback</a></div><div class="ttdeci">void launch_stop_callback(stopfunc_t func, void *scheduler)</div><div class="ttdoc">Callback function to stop the main scheduler thread. Acquires the interpreter and signals the Python ...</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l00096">runtime.hpp:96</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="runtime_8hpp.html#a8beb32839b6aa57c6e1e6de62b6056a6">launch_stop_callback()</a>, <a class="el" href="classInnerScheduler.html#aacefdd230a7424b23bb4177fff5ec8fa">py_scheduler</a>, and <a class="el" href="classInnerScheduler.html#a7cb352ac732c46546bd203798dcaf822">stop_callback</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#a62ae8d4c3766ddc6746daae230179e79">decrease_num_active_tasks()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a3af3b46d1f72a9789f2f085f878e0cca_cgraph.png" border="0" usemap="#aclassInnerScheduler_a3af3b46d1f72a9789f2f085f878e0cca_cgraph" alt=""/></div>
<map name="aclassInnerScheduler_a3af3b46d1f72a9789f2f085f878e0cca_cgraph" id="aclassInnerScheduler_a3af3b46d1f72a9789f2f085f878e0cca_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,160,32"/>
<area shape="rect" href="runtime_8hpp.html#a8beb32839b6aa57c6e1e6de62b6056a6" title="Callback function to stop the main scheduler thread. Acquires the interpreter and signals the Python ..." alt="" coords="208,5,369,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a3af3b46d1f72a9789f2f085f878e0cca_icgraph.png" border="0" usemap="#aclassInnerScheduler_a3af3b46d1f72a9789f2f085f878e0cca_icgraph" alt=""/></div>
<map name="aclassInnerScheduler_a3af3b46d1f72a9789f2f085f878e0cca_icgraph" id="aclassInnerScheduler_a3af3b46d1f72a9789f2f085f878e0cca_icgraph">
<area shape="rect" title=" " alt="" coords="645,13,800,39"/>
<area shape="rect" href="classInnerScheduler.html#a62ae8d4c3766ddc6746daae230179e79" title=" " alt="" coords="411,5,597,47"/>
<area shape="rect" href="classInnerScheduler.html#ae168936fb94b2602cb78867209b12cad" title=" " alt="" coords="208,5,363,47"/>
<area shape="rect" href="classInnerScheduler.html#a379b814bdf9d16a3954036f2f63d3c1a" title=" " alt="" coords="5,5,160,47"/>
</map>
</div>

</div>
</div>
<a id="a379b814bdf9d16a3954036f2f63d3c1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a379b814bdf9d16a3954036f2f63d3c1a">&#9670;&nbsp;</a></span>task_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::task_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInnerWorker.html">InnerWorker</a> *&#160;</td>
          <td class="paramname"><em>worker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classInnerTask.html">InnerTask</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00321">321</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                                             {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <a class="code" href="profiling_8hpp.html#a4ed1a04fa9103ac0c29157e53ed53e66">NVTX_RANGE</a>(<span class="stringliteral">&quot;Scheduler::task_cleanup&quot;</span>, <a class="code" href="profiling_8hpp.html#ae025f787f210666030e6908e8fc46ef9">NVTX_COLOR_MAGENTA</a>)</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <a class="code" href="classInnerScheduler.html#a92eba7911e5c3491f79d07f16c152030">task_cleanup_presync</a>(<a class="code" href="namespaceparla_1_1cython_1_1core.html#a8368535304ebfdbd53c01c50f851dbc6">worker</a>, <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>, state);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="comment">// synchronize task enviornment</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;synchronize_events();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <a class="code" href="classInnerScheduler.html#ae168936fb94b2602cb78867209b12cad">task_cleanup_postsync</a>(<a class="code" href="namespaceparla_1_1cython_1_1core.html#a8368535304ebfdbd53c01c50f851dbc6">worker</a>, <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>, state);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div>
<div class="ttc" id="aclassInnerScheduler_html_a92eba7911e5c3491f79d07f16c152030"><div class="ttname"><a href="classInnerScheduler.html#a92eba7911e5c3491f79d07f16c152030">InnerScheduler::task_cleanup_presync</a></div><div class="ttdeci">void task_cleanup_presync(InnerWorker *worker, InnerTask *task, int state)</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00245">scheduler.cpp:245</a></div></div>
<div class="ttc" id="aclassInnerScheduler_html_ae168936fb94b2602cb78867209b12cad"><div class="ttname"><a href="classInnerScheduler.html#ae168936fb94b2602cb78867209b12cad">InnerScheduler::task_cleanup_postsync</a></div><div class="ttdeci">void task_cleanup_postsync(InnerWorker *worker, InnerTask *task, int state)</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00268">scheduler.cpp:268</a></div></div>
<div class="ttc" id="aprofiling_8hpp_html_ae025f787f210666030e6908e8fc46ef9"><div class="ttname"><a href="profiling_8hpp.html#ae025f787f210666030e6908e8fc46ef9">NVTX_COLOR_MAGENTA</a></div><div class="ttdeci">#define NVTX_COLOR_MAGENTA</div><div class="ttdef"><b>Definition:</b> <a href="profiling_8hpp_source.html#l00053">profiling.hpp:53</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classInnerTask.html#adb90cbdc396b22a13de1e0840defbf4b">InnerTask::synchronize_events()</a>, <a class="el" href="classInnerScheduler.html#ae168936fb94b2602cb78867209b12cad">task_cleanup_postsync()</a>, and <a class="el" href="classInnerScheduler.html#a92eba7911e5c3491f79d07f16c152030">task_cleanup_presync()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a379b814bdf9d16a3954036f2f63d3c1a_cgraph.png" border="0" usemap="#aclassInnerScheduler_a379b814bdf9d16a3954036f2f63d3c1a_cgraph" alt=""/></div>
<map name="aclassInnerScheduler_a379b814bdf9d16a3954036f2f63d3c1a_cgraph" id="aclassInnerScheduler_a379b814bdf9d16a3954036f2f63d3c1a_cgraph">
<area shape="rect" title=" " alt="" coords="5,293,160,334"/>
<area shape="rect" href="classInnerTask.html#adb90cbdc396b22a13de1e0840defbf4b" title=" " alt="" coords="208,227,379,269"/>
<area shape="rect" href="classInnerScheduler.html#ae168936fb94b2602cb78867209b12cad" title=" " alt="" coords="216,293,371,334"/>
<area shape="rect" href="classInnerScheduler.html#a92eba7911e5c3491f79d07f16c152030" title=" " alt="" coords="216,358,371,399"/>
<area shape="rect" href="classInnerScheduler.html#a62ae8d4c3766ddc6746daae230179e79" title=" " alt="" coords="443,19,629,61"/>
<area shape="rect" href="classInnerScheduler.html#a2104255a5058ab7b336d816c003d4d24" title=" " alt="" coords="427,132,645,159"/>
<area shape="rect" href="classInnerScheduler.html#a8b2df21cffbb84f5a19831563c81ac19" title=" " alt="" coords="445,183,627,225"/>
<area shape="rect" href="classDevice.html#a23e7c65c6d833d56755aead8128763b7" title="Returns the currently reserved resources on the device." alt="" coords="439,249,633,276"/>
<area shape="rect" href="classInnerTask.html#a4ca098a528447af8182270837cf03ece" title=" " alt="" coords="449,300,623,327"/>
<area shape="rect" href="classInnerTask.html#ad61553584936bbeec62d1dd39c371863" title=" " alt="" coords="430,351,642,393"/>
<area shape="rect" href="classInnerTask.html#a846cbeb1a1fb4135e5ab63ca59953d78" title=" " alt="" coords="465,417,607,458"/>
<area shape="rect" href="classInnerWorker.html#a6747e52a01465719f623a1dc1618f21c" title=" " alt="" coords="439,483,633,509"/>
<area shape="rect" href="classInnerTask.html#ace88fd5b0348a0fc5e7a436a6d662ea4" title=" " alt="" coords="473,533,599,560"/>
<area shape="rect" href="classInnerScheduler.html#a3af3b46d1f72a9789f2f085f878e0cca" title=" " alt="" coords="715,5,870,32"/>
<area shape="rect" href="runtime_8hpp.html#a8beb32839b6aa57c6e1e6de62b6056a6" title="Callback function to stop the main scheduler thread. Acquires the interpreter and signals the Python ..." alt="" coords="940,5,1101,32"/>
<area shape="rect" href="classMapper.html#a5899d440fb93667e0cdda5683d98e791" title="Enqueue a task to the phase." alt="" coords="725,56,860,83"/>
<area shape="rect" href="classMemoryReserver.html#a2127dac8a80858f60a723345a7b7e8bc" title="Enqueue a task to the phase." alt="" coords="693,107,892,133"/>
<area shape="rect" href="classRuntimeReserver.html#aeab29f38dfdcc8f13fd839bf2629d1f5" title="Enqueue a task to the phase." alt="" coords="693,157,892,184"/>
<area shape="rect" href="classInnerTask.html#aef321b6803fe6a340644f7e9e6b748a5" title=" " alt="" coords="716,208,869,235"/>
<area shape="rect" href="classInnerTask.html#a16d4159ff5905ed8e771fb69d84b1ca4" title=" " alt="" coords="713,259,872,285"/>
</map>
</div>

</div>
</div>
<a id="ae168936fb94b2602cb78867209b12cad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae168936fb94b2602cb78867209b12cad">&#9670;&nbsp;</a></span>task_cleanup_postsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::task_cleanup_postsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInnerWorker.html">InnerWorker</a> *&#160;</td>
          <td class="paramname"><em>worker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classInnerTask.html">InnerTask</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00268">268</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                                                          {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <a class="code" href="profiling_8hpp.html#a4ed1a04fa9103ac0c29157e53ed53e66">NVTX_RANGE</a>(<span class="stringliteral">&quot;Scheduler::task_cleanup_postsync&quot;</span>, <a class="code" href="profiling_8hpp.html#ae025f787f210666030e6908e8fc46ef9">NVTX_COLOR_MAGENTA</a>)</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <a class="code" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bce">TaskState</a> state = <span class="keyword">static_cast&lt;</span><a class="code" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bce">TaskState</a><span class="keyword">&gt;</span>(state_int);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="comment">// std::cout &lt;&lt; &quot;Task Cleanup Post Sync&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">if</span> (state == <a class="code" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bcea9243499fe60aff8780071c849442d1a4">TaskState::RUNAHEAD</a>) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    this-&gt;<a class="code" href="classInnerScheduler.html#a62ae8d4c3766ddc6746daae230179e79">decrease_num_active_tasks</a>();</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    task-&gt;<a class="code" href="classInnerTask.html#ad61553584936bbeec62d1dd39c371863">notify_dependents_completed</a>();</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="comment">// Release all resources for this task on all devices</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespaceparla_1_1cython_1_1tasks.html#a17820f0441e4e8e4a8af4a5c50bae09d">i</a> = 0; <a class="code" href="namespaceparla_1_1cython_1_1tasks.html#a17820f0441e4e8e4a8af4a5c50bae09d">i</a> &lt; <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;assigned_devices.size(); ++<a class="code" href="namespaceparla_1_1cython_1_1tasks.html#a17820f0441e4e8e4a8af4a5c50bae09d">i</a>) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="classDevice.html">Device</a> *device = <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;assigned_devices[<a class="code" href="namespaceparla_1_1cython_1_1tasks.html#a17820f0441e4e8e4a8af4a5c50bae09d">i</a>];</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="device_8hpp.html#a1a60ef2726088f66773542604d44bdd7">DevID_t</a> dev_id = device-&gt;<a class="code" href="classDevice.html#a7a4beec758f8c827ffce31562ee9ebdb">get_global_id</a>();</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="classResourcePool.html">ResourcePool_t</a> &amp;device_pool = device-&gt;<a class="code" href="classDevice.html#a23e7c65c6d833d56755aead8128763b7">get_reserved_pool</a>();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="classResourcePool.html">ResourcePool_t</a> &amp;task_pool =</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;device_constraints[device-&gt;<a class="code" href="classDevice.html#a7a4beec758f8c827ffce31562ee9ebdb">get_global_id</a>()];</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// TODO(wlr): This needs to be changed to not release PARRAY resources</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    device_pool.<a class="code" href="classResourcePool.html#aceb8001c1425679b17519c75dd3a7aa0">increase</a>&lt;<a class="code" href="resources_8hpp.html#aaf78cb490f07150f95154e6a8c907436ab1c94ca2fbc3e78fc30069c8d0f01680">ResourceCategory::All</a>&gt;(task_pool);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// PArrays could be evicted even during task barrier continuation.</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// However, these PArrays will be allocated and tracked</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// again after the task restarts.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;is_data_task()) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;parray_list[<a class="code" href="namespaceparla_1_1cython_1_1tasks.html#a17820f0441e4e8e4a8af4a5c50bae09d">i</a>].size(); ++j) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <a class="code" href="classparray_1_1InnerPArray.html">parray::InnerPArray</a> *<a class="code" href="namespaceparray.html">parray</a> = <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;parray_list[<a class="code" href="namespaceparla_1_1cython_1_1tasks.html#a17820f0441e4e8e4a8af4a5c50bae09d">i</a>][j].first;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="namespaceparray.html">parray</a>-&gt;decr_num_active_tasks(dev_id);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="comment">// This PArray is not released from the PArray tracker here,</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="comment">// but when it is EVICTED, it will check the number of referneces</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="comment">// and will be released if that is 0.</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    this-&gt;<a class="code" href="classInnerScheduler.html#ae4979faf961d3bed8f0afd2e98e87d99">mapper</a>-&gt;<a class="code" href="classMapper.html#a81aef3f5dc2f624290e32a9ecdb068e4">atomic_decr_num_mapped_tasks_device</a>(dev_id);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">// Clear all assigned streams from the task</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;streams.clear();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#a2226b978da426cacf0175c288244dee1">launcher</a>-&gt;<a class="code" href="classLauncher.html#a9990332300e6106da0749a4d988a14ed">num_running_tasks</a>--;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  worker-&gt;<a class="code" href="classInnerWorker.html#a6747e52a01465719f623a1dc1618f21c">remove_task</a>();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">if</span> (state == <a class="code" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bcea43491564ebcfd38568918efbd6e840fd">TaskState::RUNNING</a>) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;reset();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keyword">auto</span> <a class="code" href="classInnerScheduler.html#aacca6b94f018b099863a29d39273bd59">status</a> = <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;process_dependencies();</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    this-&gt;<a class="code" href="classInnerScheduler.html#a2104255a5058ab7b336d816c003d4d24">enqueue_task</a>(task, <a class="code" href="classInnerScheduler.html#aacca6b94f018b099863a29d39273bd59">status</a>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  this-&gt;<a class="code" href="classInnerScheduler.html#a8b2df21cffbb84f5a19831563c81ac19">enqueue_worker</a>(worker);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div>
<div class="ttc" id="aclassDevice_html_a23e7c65c6d833d56755aead8128763b7"><div class="ttname"><a href="classDevice.html#a23e7c65c6d833d56755aead8128763b7">Device::get_reserved_pool</a></div><div class="ttdeci">ResourcePool_t &amp; get_reserved_pool()</div><div class="ttdoc">Returns the currently reserved resources on the device.</div><div class="ttdef"><b>Definition:</b> <a href="device_8hpp_source.html#l00104">device.hpp:104</a></div></div>
<div class="ttc" id="aclassDevice_html_a7a4beec758f8c827ffce31562ee9ebdb"><div class="ttname"><a href="classDevice.html#a7a4beec758f8c827ffce31562ee9ebdb">Device::get_global_id</a></div><div class="ttdeci">const DevID_t get_global_id() const</div><div class="ttdef"><b>Definition:</b> <a href="device_8hpp_source.html#l00111">device.hpp:111</a></div></div>
<div class="ttc" id="aclassInnerScheduler_html_a62ae8d4c3766ddc6746daae230179e79"><div class="ttname"><a href="classInnerScheduler.html#a62ae8d4c3766ddc6746daae230179e79">InnerScheduler::decrease_num_active_tasks</a></div><div class="ttdeci">void decrease_num_active_tasks()</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00338">scheduler.cpp:338</a></div></div>
<div class="ttc" id="aclassInnerScheduler_html_a8b2df21cffbb84f5a19831563c81ac19"><div class="ttname"><a href="classInnerScheduler.html#a8b2df21cffbb84f5a19831563c81ac19">InnerScheduler::enqueue_worker</a></div><div class="ttdeci">void enqueue_worker(InnerWorker *worker)</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00240">scheduler.cpp:240</a></div></div>
<div class="ttc" id="aclassInnerTask_html_ad61553584936bbeec62d1dd39c371863"><div class="ttname"><a href="classInnerTask.html#ad61553584936bbeec62d1dd39c371863">InnerTask::notify_dependents_completed</a></div><div class="ttdeci">void notify_dependents_completed()</div><div class="ttdef"><b>Definition:</b> <a href="task_8cpp_source.html#l00232">task.cpp:232</a></div></div>
<div class="ttc" id="aclassInnerWorker_html_a6747e52a01465719f623a1dc1618f21c"><div class="ttname"><a href="classInnerWorker.html#a6747e52a01465719f623a1dc1618f21c">InnerWorker::remove_task</a></div><div class="ttdeci">void remove_task()</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00045">scheduler.cpp:45</a></div></div>
<div class="ttc" id="aclassLauncher_html_a9990332300e6106da0749a4d988a14ed"><div class="ttname"><a href="classLauncher.html#a9990332300e6106da0749a4d988a14ed">Launcher::num_running_tasks</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; num_running_tasks</div><div class="ttdef"><b>Definition:</b> <a href="phases_8hpp_source.html#l00358">phases.hpp:358</a></div></div>
<div class="ttc" id="aclassMapper_html_a81aef3f5dc2f624290e32a9ecdb068e4"><div class="ttname"><a href="classMapper.html#a81aef3f5dc2f624290e32a9ecdb068e4">Mapper::atomic_decr_num_mapped_tasks_device</a></div><div class="ttdeci">size_t atomic_decr_num_mapped_tasks_device(DevID_t dev_id, size_t weight=1)</div><div class="ttdoc">Decrease the count of tasks mapped to a device.</div><div class="ttdef"><b>Definition:</b> <a href="phases_8hpp_source.html#l00187">phases.hpp:187</a></div></div>
<div class="ttc" id="aclassResourcePool_html"><div class="ttname"><a href="classResourcePool.html">ResourcePool</a></div><div class="ttdoc">A pool of resources, allows for comparisons and updates of current values.</div><div class="ttdef"><b>Definition:</b> <a href="resources_8hpp_source.html#l00078">resources.hpp:78</a></div></div>
<div class="ttc" id="aclassResourcePool_html_aceb8001c1425679b17519c75dd3a7aa0"><div class="ttname"><a href="classResourcePool.html#aceb8001c1425679b17519c75dd3a7aa0">ResourcePool::increase</a></div><div class="ttdeci">void increase(const ResourcePool &amp;other)</div><div class="ttdef"><b>Definition:</b> <a href="resources_8hpp_source.html#l00199">resources.hpp:199</a></div></div>
<div class="ttc" id="aclassparray_1_1InnerPArray_html"><div class="ttname"><a href="classparray_1_1InnerPArray.html">parray::InnerPArray</a></div><div class="ttdef"><b>Definition:</b> <a href="parray_8hpp_source.html#l00025">parray.hpp:25</a></div></div>
<div class="ttc" id="adevice_8hpp_html_a1a60ef2726088f66773542604d44bdd7"><div class="ttname"><a href="device_8hpp.html#a1a60ef2726088f66773542604d44bdd7">DevID_t</a></div><div class="ttdeci">uint32_t DevID_t</div><div class="ttdef"><b>Definition:</b> <a href="device_8hpp_source.html#l00016">device.hpp:16</a></div></div>
<div class="ttc" id="anamespaceparla_1_1cython_1_1tasks_html_a17820f0441e4e8e4a8af4a5c50bae09d"><div class="ttname"><a href="namespaceparla_1_1cython_1_1tasks.html#a17820f0441e4e8e4a8af4a5c50bae09d">parla.cython.tasks.i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="tasks_8pyx_source.html#l01419">tasks.pyx:1419</a></div></div>
<div class="ttc" id="anamespaceparray_html"><div class="ttname"><a href="namespaceparray.html">parray</a></div><div class="ttdef"><b>Definition:</b> <a href="parray_8cpp_source.html#l00005">parray.cpp:5</a></div></div>
<div class="ttc" id="aresources_8hpp_html_aaf78cb490f07150f95154e6a8c907436ab1c94ca2fbc3e78fc30069c8d0f01680"><div class="ttname"><a href="resources_8hpp.html#aaf78cb490f07150f95154e6a8c907436ab1c94ca2fbc3e78fc30069c8d0f01680">ResourceCategory::All</a></div><div class="ttdeci">@ All</div></div>
<div class="ttc" id="aruntime_8hpp_html_a724f9ce2351c125b3b7f6c7923822bce"><div class="ttname"><a href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bce">TaskState</a></div><div class="ttdeci">TaskState</div><div class="ttdoc">Tracks the state of of a task within the runtime.</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8hpp_source.html#l00106">runtime.hpp:106</a></div></div>
<div class="ttc" id="aruntime_8hpp_html_a724f9ce2351c125b3b7f6c7923822bcea43491564ebcfd38568918efbd6e840fd"><div class="ttname"><a href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bcea43491564ebcfd38568918efbd6e840fd">TaskState::RUNNING</a></div><div class="ttdeci">@ RUNNING</div><div class="ttdoc">Task is currently running and has runtime resources reserved.</div></div>
<div class="ttc" id="aruntime_8hpp_html_a724f9ce2351c125b3b7f6c7923822bcea9243499fe60aff8780071c849442d1a4"><div class="ttname"><a href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bcea9243499fe60aff8780071c849442d1a4">TaskState::RUNAHEAD</a></div><div class="ttdeci">@ RUNAHEAD</div><div class="ttdoc">Task body has completed but GPU kernels may be asynchronously running.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="resources_8hpp.html#aaf78cb490f07150f95154e6a8c907436ab1c94ca2fbc3e78fc30069c8d0f01680">All</a>, <a class="el" href="classInnerScheduler.html#a62ae8d4c3766ddc6746daae230179e79">decrease_num_active_tasks()</a>, <a class="el" href="classInnerScheduler.html#a2104255a5058ab7b336d816c003d4d24">enqueue_task()</a>, <a class="el" href="classInnerScheduler.html#a8b2df21cffbb84f5a19831563c81ac19">enqueue_worker()</a>, <a class="el" href="classDevice.html#a23e7c65c6d833d56755aead8128763b7">Device::get_reserved_pool()</a>, <a class="el" href="classInnerTask.html#a4ca098a528447af8182270837cf03ece">InnerTask::is_data_task()</a>, <a class="el" href="classInnerScheduler.html#a2226b978da426cacf0175c288244dee1">launcher</a>, <a class="el" href="classInnerTask.html#ad61553584936bbeec62d1dd39c371863">InnerTask::notify_dependents_completed()</a>, <a class="el" href="classInnerTask.html#a846cbeb1a1fb4135e5ab63ca59953d78">InnerTask::process_dependencies()</a>, <a class="el" href="classInnerWorker.html#a6747e52a01465719f623a1dc1618f21c">InnerWorker::remove_task()</a>, <a class="el" href="classInnerTask.html#ace88fd5b0348a0fc5e7a436a6d662ea4">InnerTask::reset()</a>, <a class="el" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bcea9243499fe60aff8780071c849442d1a4">RUNAHEAD</a>, and <a class="el" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bcea43491564ebcfd38568918efbd6e840fd">RUNNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#a379b814bdf9d16a3954036f2f63d3c1a">task_cleanup()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_ae168936fb94b2602cb78867209b12cad_cgraph.png" border="0" usemap="#aclassInnerScheduler_ae168936fb94b2602cb78867209b12cad_cgraph" alt=""/></div>
<map name="aclassInnerScheduler_ae168936fb94b2602cb78867209b12cad_cgraph" id="aclassInnerScheduler_ae168936fb94b2602cb78867209b12cad_cgraph">
<area shape="rect" title=" " alt="" coords="5,295,160,337"/>
<area shape="rect" href="classInnerScheduler.html#a62ae8d4c3766ddc6746daae230179e79" title=" " alt="" coords="224,22,411,63"/>
<area shape="rect" href="classInnerScheduler.html#a2104255a5058ab7b336d816c003d4d24" title=" " alt="" coords="208,135,427,161"/>
<area shape="rect" href="classInnerScheduler.html#a8b2df21cffbb84f5a19831563c81ac19" title=" " alt="" coords="226,186,409,227"/>
<area shape="rect" href="classDevice.html#a23e7c65c6d833d56755aead8128763b7" title="Returns the currently reserved resources on the device." alt="" coords="220,252,415,279"/>
<area shape="rect" href="classInnerTask.html#a4ca098a528447af8182270837cf03ece" title=" " alt="" coords="230,303,405,329"/>
<area shape="rect" href="classInnerTask.html#ad61553584936bbeec62d1dd39c371863" title=" " alt="" coords="211,354,423,395"/>
<area shape="rect" href="classInnerTask.html#a846cbeb1a1fb4135e5ab63ca59953d78" title=" " alt="" coords="246,419,389,461"/>
<area shape="rect" href="classInnerWorker.html#a6747e52a01465719f623a1dc1618f21c" title=" " alt="" coords="221,485,414,512"/>
<area shape="rect" href="classInnerTask.html#ace88fd5b0348a0fc5e7a436a6d662ea4" title=" " alt="" coords="255,536,380,563"/>
<area shape="rect" href="classInnerScheduler.html#a3af3b46d1f72a9789f2f085f878e0cca" title=" " alt="" coords="497,5,651,32"/>
<area shape="rect" href="runtime_8hpp.html#a8beb32839b6aa57c6e1e6de62b6056a6" title="Callback function to stop the main scheduler thread. Acquires the interpreter and signals the Python ..." alt="" coords="721,5,883,32"/>
<area shape="rect" href="classMapper.html#a5899d440fb93667e0cdda5683d98e791" title="Enqueue a task to the phase." alt="" coords="507,56,641,83"/>
<area shape="rect" href="classMemoryReserver.html#a2127dac8a80858f60a723345a7b7e8bc" title="Enqueue a task to the phase." alt="" coords="475,107,673,133"/>
<area shape="rect" href="classRuntimeReserver.html#aeab29f38dfdcc8f13fd839bf2629d1f5" title="Enqueue a task to the phase." alt="" coords="475,157,673,184"/>
<area shape="rect" href="classInnerTask.html#aef321b6803fe6a340644f7e9e6b748a5" title=" " alt="" coords="497,208,651,235"/>
<area shape="rect" href="classInnerTask.html#a16d4159ff5905ed8e771fb69d84b1ca4" title=" " alt="" coords="495,259,653,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_ae168936fb94b2602cb78867209b12cad_icgraph.png" border="0" usemap="#aclassInnerScheduler_ae168936fb94b2602cb78867209b12cad_icgraph" alt=""/></div>
<map name="aclassInnerScheduler_ae168936fb94b2602cb78867209b12cad_icgraph" id="aclassInnerScheduler_ae168936fb94b2602cb78867209b12cad_icgraph">
<area shape="rect" title=" " alt="" coords="208,5,363,47"/>
<area shape="rect" href="classInnerScheduler.html#a379b814bdf9d16a3954036f2f63d3c1a" title=" " alt="" coords="5,5,160,47"/>
</map>
</div>

</div>
</div>
<a id="a92eba7911e5c3491f79d07f16c152030"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92eba7911e5c3491f79d07f16c152030">&#9670;&nbsp;</a></span>task_cleanup_presync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InnerScheduler::task_cleanup_presync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInnerWorker.html">InnerWorker</a> *&#160;</td>
          <td class="paramname"><em>worker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classInnerTask.html">InnerTask</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scheduler_8cpp_source.html#l00245">245</a> of file <a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                                                         {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <a class="code" href="profiling_8hpp.html#a4ed1a04fa9103ac0c29157e53ed53e66">NVTX_RANGE</a>(<span class="stringliteral">&quot;Scheduler::task_cleanup_presync&quot;</span>, <a class="code" href="profiling_8hpp.html#ae025f787f210666030e6908e8fc46ef9">NVTX_COLOR_MAGENTA</a>)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <a class="code" href="profiling_8hpp.html#a9ebb3c6ae8e23ea2260d5274b3a22a89">LOG_INFO</a>(<a class="code" href="profiling_8hpp.html#a61fc173cd03db618eb2f64b60f42b55b">WORKER</a>, <span class="stringliteral">&quot;Cleaning up: {} on  {}&quot;</span>, <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>, <a class="code" href="namespaceparla_1_1cython_1_1core.html#a8368535304ebfdbd53c01c50f851dbc6">worker</a>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <a class="code" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bce">TaskState</a> state = <span class="keyword">static_cast&lt;</span><a class="code" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bce">TaskState</a><span class="keyword">&gt;</span>(state_int);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="comment">// std::cout &lt;&lt; &quot;CLEANUP PRE SYNC: &quot; &lt;&lt; state &lt;&lt; &quot; &quot; &lt;&lt; Task::RUNAHEAD</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">//           &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// std::cout &lt;&lt; &quot;Task state: &quot; &lt;&lt; state &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">if</span> (state == <a class="code" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bcea9243499fe60aff8780071c849442d1a4">TaskState::RUNAHEAD</a>) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">// Notify dependents that they can be scheduled</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keyword">auto</span> &amp;enqueue_buffer = <a class="code" href="namespaceparla_1_1cython_1_1core.html#a8368535304ebfdbd53c01c50f851dbc6">worker</a>-&gt;enqueue_buffer;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="namespaceparla_1_1cython_1_1core.html#a80c42ae6cf7c7174352631aa0d84cbe0">task</a>-&gt;notify_dependents(enqueue_buffer, <a class="code" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bcea9243499fe60aff8780071c849442d1a4">TaskState::RUNAHEAD</a>);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span> (enqueue_buffer.size() &gt; 0) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      this-&gt;<a class="code" href="classInnerScheduler.html#aac1035ac8fd1f43b241db61637fce76a">enqueue_tasks</a>(enqueue_buffer);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      enqueue_buffer.clear();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
<div class="ttc" id="aclassInnerScheduler_html_aac1035ac8fd1f43b241db61637fce76a"><div class="ttname"><a href="classInnerScheduler.html#aac1035ac8fd1f43b241db61637fce76a">InnerScheduler::enqueue_tasks</a></div><div class="ttdeci">void enqueue_tasks(TaskStatusList &amp;tasks)</div><div class="ttdef"><b>Definition:</b> <a href="scheduler_8cpp_source.html#l00228">scheduler.cpp:228</a></div></div>
<div class="ttc" id="aprofiling_8hpp_html_a61fc173cd03db618eb2f64b60f42b55b"><div class="ttname"><a href="profiling_8hpp.html#a61fc173cd03db618eb2f64b60f42b55b">WORKER</a></div><div class="ttdeci">#define WORKER</div><div class="ttdef"><b>Definition:</b> <a href="profiling_8hpp_source.html#l00163">profiling.hpp:163</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="runtime_8hpp.html#a724f9ce2351c125b3b7f6c7923822bcea9243499fe60aff8780071c849442d1a4">RUNAHEAD</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#a379b814bdf9d16a3954036f2f63d3c1a">task_cleanup()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classInnerScheduler_a92eba7911e5c3491f79d07f16c152030_icgraph.png" border="0" usemap="#aclassInnerScheduler_a92eba7911e5c3491f79d07f16c152030_icgraph" alt=""/></div>
<map name="aclassInnerScheduler_a92eba7911e5c3491f79d07f16c152030_icgraph" id="aclassInnerScheduler_a92eba7911e5c3491f79d07f16c152030_icgraph">
<area shape="rect" title=" " alt="" coords="208,5,363,47"/>
<area shape="rect" href="classInnerScheduler.html#a379b814bdf9d16a3954036f2f63d3c1a" title=" " alt="" coords="5,5,160,47"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="abf4ca3eda40c00a551af743d170a705a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf4ca3eda40c00a551af743d170a705a">&#9670;&nbsp;</a></span>device_manager_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDeviceManager.html">DeviceManager</a>* InnerScheduler::device_manager_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It manages all device instances in C++. </p>
<p>This is destructed by the Cython scheduler. </p>

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l01116">1116</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#ad2fa4cc6ee8b95e4b25e67d0ca6991bb">get_device_manager()</a>, and <a class="el" href="classInnerScheduler.html#aaed710c208e5a28162c3b181f8a33d23">InnerScheduler()</a>.</p>

</div>
</div>
<a id="a2226b978da426cacf0175c288244dee1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2226b978da426cacf0175c288244dee1">&#9670;&nbsp;</a></span>launcher</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLauncher.html">Launcher</a>* InnerScheduler::launcher</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l00997">997</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#a17f38e7632a5733f36da2834ef20c99e">activate()</a>, <a class="el" href="classInnerScheduler.html#a84bbaab0860c65871516a5da1bd69304">get_num_running_tasks()</a>, <a class="el" href="classInnerScheduler.html#aaed710c208e5a28162c3b181f8a33d23">InnerScheduler()</a>, <a class="el" href="classInnerScheduler.html#ae168936fb94b2602cb78867209b12cad">task_cleanup_postsync()</a>, and <a class="el" href="classInnerScheduler.html#a765ce76f1baf1c94da77efc17be30457">~InnerScheduler()</a>.</p>

</div>
</div>
<a id="ae4979faf961d3bed8f0afd2e98e87d99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4979faf961d3bed8f0afd2e98e87d99">&#9670;&nbsp;</a></span>mapper</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMapper.html">Mapper</a>* InnerScheduler::mapper</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l00990">990</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#a17f38e7632a5733f36da2834ef20c99e">activate()</a>, <a class="el" href="classInnerScheduler.html#a2104255a5058ab7b336d816c003d4d24">enqueue_task()</a>, and <a class="el" href="classInnerScheduler.html#a765ce76f1baf1c94da77efc17be30457">~InnerScheduler()</a>.</p>

</div>
</div>
<a id="ae5dc0d58cd89946f73416c3635d35d45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5dc0d58cd89946f73416c3635d35d45">&#9670;&nbsp;</a></span>memory_reserver</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMemoryReserver.html">MemoryReserver</a>* InnerScheduler::memory_reserver</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l00993">993</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#a17f38e7632a5733f36da2834ef20c99e">activate()</a>, <a class="el" href="classInnerScheduler.html#a2104255a5058ab7b336d816c003d4d24">enqueue_task()</a>, <a class="el" href="classInnerScheduler.html#aaed710c208e5a28162c3b181f8a33d23">InnerScheduler()</a>, and <a class="el" href="classInnerScheduler.html#a765ce76f1baf1c94da77efc17be30457">~InnerScheduler()</a>.</p>

</div>
</div>
<a id="a5a7e270f0eafee1407caf9418f8dc8fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a7e270f0eafee1407caf9418f8dc8fa">&#9670;&nbsp;</a></span>num_active_tasks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;int&gt; InnerScheduler::num_active_tasks {1}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l00984">984</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>

</div>
</div>
<a id="ae42bb74656d12dbc2a773bda4e53b9f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae42bb74656d12dbc2a773bda4e53b9f0">&#9670;&nbsp;</a></span>parray_tracker_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPArrayTracker.html">PArrayTracker</a> InnerScheduler::parray_tracker_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It manages the current/planned distribution of PArrays across devices. </p>
<p>Parla task mapping policy considers locality of PArrays through this. </p>

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l01120">1120</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>

</div>
</div>
<a id="aacefdd230a7424b23bb4177fff5ec8fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacefdd230a7424b23bb4177fff5ec8fa">&#9670;&nbsp;</a></span>py_scheduler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* InnerScheduler::py_scheduler</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l01007">1007</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#ac5b7ad179cc600d36065f07db3873ecc">set_py_scheduler()</a>, and <a class="el" href="classInnerScheduler.html#a3af3b46d1f72a9789f2f085f878e0cca">stop()</a>.</p>

</div>
</div>
<a id="a84607342ed8e50f0c12322711821c9e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84607342ed8e50f0c12322711821c9e4">&#9670;&nbsp;</a></span>runtime_reserver</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRuntimeReserver.html">RuntimeReserver</a>* InnerScheduler::runtime_reserver</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l00994">994</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#a17f38e7632a5733f36da2834ef20c99e">activate()</a>, <a class="el" href="classInnerScheduler.html#a2104255a5058ab7b336d816c003d4d24">enqueue_task()</a>, <a class="el" href="classInnerScheduler.html#a9e609c2ae554c0a849d65378706c2c63">get_num_ready_tasks()</a>, <a class="el" href="classInnerScheduler.html#aaed710c208e5a28162c3b181f8a33d23">InnerScheduler()</a>, and <a class="el" href="classInnerScheduler.html#a765ce76f1baf1c94da77efc17be30457">~InnerScheduler()</a>.</p>

</div>
</div>
<a id="a41d128151484454a8bce5473997ac423"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41d128151484454a8bce5473997ac423">&#9670;&nbsp;</a></span>should_run</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; InnerScheduler::should_run = true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l00987">987</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>

</div>
</div>
<a id="ad2a2a9db8e368e5295285615c1f41a8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a2a9db8e368e5295285615c1f41a8e">&#9670;&nbsp;</a></span>sleep_flag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool InnerScheduler::sleep_flag = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l00972">972</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#a19f4d7b87785bdfcd5158e1ffd7c2e0a">run()</a>.</p>

</div>
</div>
<a id="af4243a64176366bda8a6f71f94af6412"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4243a64176366bda8a6f71f94af6412">&#9670;&nbsp;</a></span>sleep_time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int InnerScheduler::sleep_time = 20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l00975">975</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>

</div>
</div>
<a id="aacca6b94f018b099863a29d39273bd59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacca6b94f018b099863a29d39273bd59">&#9670;&nbsp;</a></span>status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classScheduler_1_1Status.html">Scheduler::Status</a> InnerScheduler::status</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l01010">1010</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#a17f38e7632a5733f36da2834ef20c99e">activate()</a>, and <a class="el" href="classparla_1_1cython_1_1scheduler_1_1WorkerThread.html#a17878a66843ff4463f81f1e0606b2adf">parla.cython.scheduler.WorkerThread::run()</a>.</p>

</div>
</div>
<a id="a7cb352ac732c46546bd203798dcaf822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cb352ac732c46546bd203798dcaf822">&#9670;&nbsp;</a></span>stop_callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="runtime_8hpp.html#abd5c6c520d3421f2e921502f9cb2492c">stopfunc_t</a> InnerScheduler::stop_callback</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l01004">1004</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classInnerScheduler.html#a1bdbcf712028d0b3e7f9cb92c7635764">set_stop_callback()</a>, and <a class="el" href="classInnerScheduler.html#a3af3b46d1f72a9789f2f085f878e0cca">stop()</a>.</p>

</div>
</div>
<a id="a07846c2bc48bd3aa6cc2faf807257444"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07846c2bc48bd3aa6cc2faf807257444">&#9670;&nbsp;</a></span>task_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classInnerTask.html">InnerTask</a> *&gt; InnerScheduler::task_buffer = std::vector&lt;<a class="el" href="classInnerTask.html">InnerTask</a> *&gt;(10)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l00978">978</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>

</div>
</div>
<a id="acdcdea945f320f24fad6ad5215639383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdcdea945f320f24fad6ad5215639383">&#9670;&nbsp;</a></span>workers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="runtime_8hpp.html#ad1a75a7786204109d89bae6dc95fccc1">WorkerPool_t</a> InnerScheduler::workers</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="runtime_8hpp_source.html#l00981">981</a> of file <a class="el" href="runtime_8hpp_source.html">runtime.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/c/backend/include/<a class="el" href="runtime_8hpp_source.html">runtime.hpp</a></li>
<li>src/c/backend/<a class="el" href="scheduler_8cpp_source.html">scheduler.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
